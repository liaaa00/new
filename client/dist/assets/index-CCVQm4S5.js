function qt(){return qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qt.apply(null,arguments)}var un={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null,legacySubset:!1};function Au(e,t){if(Ut(e,t))return e[t];throw typeof e[t]=="function"&&yu(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Cu(e,t,r){if(Ut(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function Ut(e,t){return!Bu(e)&&!Array.isArray(e)?!1:bt(_u,t)?!0:!(t in Object.prototype||t in Function.prototype)}function yu(e,t){return e==null||typeof e[t]!="function"||bt(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:bt(bu,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Bu(e){return typeof e=="object"&&e&&e.constructor===Object}var _u={length:!0,name:!0},bu={toString:!0,valueOf:!0,toLocaleString:!0};class Nu{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return Au(this.wrappedObject,t)}set(t,r){return Cu(this.wrappedObject,t,r),this}has(t){return Ut(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return Mu(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){Ut(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function Mu(e,t){return{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}function ue(e){return typeof e=="number"}function ye(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Su(e){return typeof e=="bigint"}function on(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function sn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function an(e){return e&&e.constructor.prototype.isUnit===!0||!1}function Qe(e){return typeof e=="string"}var _e=Array.isArray;function Be(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Lt(e){return Array.isArray(e)||Be(e)}function Tu(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function xu(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Iu(e){return e&&e.constructor.prototype.isRange===!0||!1}function pr(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Ou(e){return typeof e=="boolean"}function zu(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Pu(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Ru(e){return typeof e=="function"}function $u(e){return e instanceof Date}function qu(e){return e instanceof RegExp}function dr(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!on(e)&&!sn(e))}function Uu(e){return e?e instanceof Map||e instanceof Nu||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function Lu(e){return e===null}function Zu(e){return e===void 0}function Vu(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Wu(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function Hu(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ju(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Yu(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Xu(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Gu(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ku(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Qu(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function ju(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function ku(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function ei(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function ti(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function ri(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function ni(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function ui(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function ii(e){return e&&e.constructor.prototype.isChain===!0||!1}function st(e){var t=typeof e;return t==="object"?e===null?"null":ye(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Fe(e){var t=typeof e;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return Fe(r)});if(e instanceof Date)return new Date(e.valueOf());if(ye(e))return e;if(dr(e))return oi(e,Fe);if(t==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function oi(e,t){var r={};for(var n in e)bt(e,n)&&(r[n]=t(e[n]));return r}function si(e,t){for(var r in t)bt(t,r)&&(e[r]=t[r]);return e}function Et(e,t){var r,n,u;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,u=e.length;n<u;n++)if(!Et(e[n],t[n]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!Et(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function bt(e,t){return e&&Object.hasOwnProperty.call(e,t)}function ai(e,t){for(var r={},n=0;n<t.length;n++){var u=t[n],i=e[u];i!==void 0&&(r[u]=i)}return r}var fi=["Matrix","Array"],ci=["number","BigNumber","bigint","Fraction"],St=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(un)};qt(St,un,{MATRIX_OPTIONS:fi,NUMBER_OPTIONS:ci});function Nr(){return!0}function We(){return!1}function vt(){}const Mr="Argument is not a typed-function.";function fn(){function e(p){return typeof p=="object"&&p!==null&&p.constructor===Object}const t=[{name:"number",test:function(p){return typeof p=="number"}},{name:"string",test:function(p){return typeof p=="string"}},{name:"boolean",test:function(p){return typeof p=="boolean"}},{name:"Function",test:function(p){return typeof p=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(p){return p instanceof Date}},{name:"RegExp",test:function(p){return p instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(p){return p===null}},{name:"undefined",test:function(p){return p===void 0}}],r={name:"any",test:Nr,isAny:!0};let n,u,i=0,o={createCount:0};function s(p){const A=n.get(p);if(A)return A;let N='Unknown type "'+p+'"';const S=p.toLowerCase();let z;for(z of u)if(z.toLowerCase()===S){N+='. Did you mean "'+z+'" ?';break}throw new TypeError(N)}function c(p){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const N=A?s(A).index:u.length,S=[];for(let T=0;T<p.length;++T){if(!p[T]||typeof p[T].name!="string"||typeof p[T].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const L=p[T].name;if(n.has(L))throw new TypeError('Duplicate type name "'+L+'"');S.push(L),n.set(L,{name:L,test:p[T].test,isAny:p[T].isAny,index:N+T,conversionsTo:[]})}const z=u.slice(N);u=u.slice(0,N).concat(S).concat(z);for(let T=N+S.length;T<u.length;++T)n.get(u[T]).index=T}function f(){n=new Map,u=[],i=0,c([r],!1)}f(),c(t);function h(){let p;for(p of u)n.get(p).conversionsTo=[];i=0}function a(p){const A=u.filter(N=>{const S=n.get(N);return!S.isAny&&S.test(p)});return A.length?A:["any"]}function D(p){return p&&typeof p=="function"&&"_typedFunctionData"in p}function m(p,A,N){if(!D(p))throw new TypeError(Mr);const S=N&&N.exact,z=Array.isArray(A)?A.join(","):A,T=B(z),L=g(T);if(!S||L in p.signatures){const se=p._typedFunctionData.signatureMap.get(L);if(se)return se}const $=T.length;let Z;if(S){Z=[];let se;for(se in p.signatures)Z.push(p._typedFunctionData.signatureMap.get(se))}else Z=p._typedFunctionData.signatures;for(let se=0;se<$;++se){const he=T[se],Ae=[];let Re;for(Re of Z){const Pe=y(Re.params,se);if(!(!Pe||he.restParam&&!Pe.restParam)){if(!Pe.hasAny){const Ye=F(Pe);if(he.types.some(Xe=>!Ye.has(Xe.name)))continue}Ae.push(Re)}}if(Z=Ae,Z.length===0)break}let P;for(P of Z)if(P.params.length<=$)return P;throw new TypeError("Signature not found (signature: "+(p.name||"unnamed")+"("+g(T,", ")+"))")}function E(p,A,N){return m(p,A,N).implementation}function l(p,A){const N=s(A);if(N.test(p))return p;const S=N.conversionsTo;if(S.length===0)throw new Error("There are no conversions to "+A+" defined.");for(let z=0;z<S.length;z++)if(s(S[z].from).test(p))return S[z].convert(p);throw new Error("Cannot convert "+p+" to "+A)}function g(p){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return p.map(N=>N.name).join(A)}function w(p){const A=p.indexOf("...")===0,S=(A?p.length>3?p.slice(3):"any":p).split("|").map($=>s($.trim()));let z=!1,T=A?"...":"";return{types:S.map(function($){return z=$.isAny||z,T+=$.name+"|",{name:$.name,typeIndex:$.index,test:$.test,isAny:$.isAny,conversion:null,conversionIndex:-1}}),name:T.slice(0,-1),hasAny:z,hasConversion:!1,restParam:A}}function C(p){const A=p.types.map(L=>L.name),N=Q(A);let S=p.hasAny,z=p.name;const T=N.map(function(L){const $=s(L.from);return S=$.isAny||S,z+="|"+L.from,{name:L.from,typeIndex:$.index,test:$.test,isAny:$.isAny,conversion:L,conversionIndex:L.index}});return{types:p.types.concat(T),name:z,hasAny:S,hasConversion:T.length>0,restParam:p.restParam}}function F(p){return p.typeSet||(p.typeSet=new Set,p.types.forEach(A=>p.typeSet.add(A.name))),p.typeSet}function B(p){const A=[];if(typeof p!="string")throw new TypeError("Signatures must be strings");const N=p.trim();if(N==="")return A;const S=N.split(",");for(let z=0;z<S.length;++z){const T=w(S[z].trim());if(T.restParam&&z!==S.length-1)throw new SyntaxError('Unexpected rest parameter "'+S[z]+'": only allowed for the last parameter');if(T.types.length===0)return null;A.push(T)}return A}function v(p){const A=fe(p);return A?A.restParam:!1}function d(p){if(!p||p.types.length===0)return Nr;if(p.types.length===1)return s(p.types[0].name).test;if(p.types.length===2){const A=s(p.types[0].name).test,N=s(p.types[1].name).test;return function(z){return A(z)||N(z)}}else{const A=p.types.map(function(N){return s(N.name).test});return function(S){for(let z=0;z<A.length;z++)if(A[z](S))return!0;return!1}}}function _(p){let A,N,S;if(v(p)){A=ze(p).map(d);const z=A.length,T=d(fe(p)),L=function($){for(let Z=z;Z<$.length;Z++)if(!T($[Z]))return!1;return!0};return function(Z){for(let P=0;P<A.length;P++)if(!A[P](Z[P]))return!1;return L(Z)&&Z.length>=z+1}}else return p.length===0?function(T){return T.length===0}:p.length===1?(N=d(p[0]),function(T){return N(T[0])&&T.length===1}):p.length===2?(N=d(p[0]),S=d(p[1]),function(T){return N(T[0])&&S(T[1])&&T.length===2}):(A=p.map(d),function(T){for(let L=0;L<A.length;L++)if(!A[L](T[L]))return!1;return T.length===A.length})}function y(p,A){return A<p.length?p[A]:v(p)?fe(p):null}function b(p,A){const N=y(p,A);return N?F(N):new Set}function I(p){return p.conversion===null||p.conversion===void 0}function O(p,A){const N=new Set;return p.forEach(S=>{const z=b(S.params,A);let T;for(T of z)N.add(T)}),N.has("any")?["any"]:Array.from(N)}function R(p,A,N){let S,z;const T=p||"unnamed";let L=N,$;for($=0;$<A.length;$++){const he=[];if(L.forEach(Ae=>{const Re=y(Ae.params,$),Pe=d(Re);($<Ae.params.length||v(Ae.params))&&Pe(A[$])&&he.push(Ae)}),he.length===0){if(z=O(L,$),z.length>0){const Ae=a(A[$]);return S=new TypeError("Unexpected type of argument in function "+T+" (expected: "+z.join(" or ")+", actual: "+Ae.join(" | ")+", index: "+$+")"),S.data={category:"wrongType",fn:T,index:$,actual:Ae,expected:z},S}}else L=he}const Z=L.map(function(he){return v(he.params)?1/0:he.params.length});if(A.length<Math.min.apply(null,Z))return z=O(L,$),S=new TypeError("Too few arguments in function "+T+" (expected: "+z.join(" or ")+", index: "+A.length+")"),S.data={category:"tooFewArgs",fn:T,index:A.length,expected:z},S;const P=Math.max.apply(null,Z);if(A.length>P)return S=new TypeError("Too many arguments in function "+T+" (expected: "+P+", actual: "+A.length+")"),S.data={category:"tooManyArgs",fn:T,index:A.length,expectedLength:P},S;const se=[];for(let he=0;he<A.length;++he)se.push(a(A[he]).join("|"));return S=new TypeError('Arguments of type "'+se.join(", ")+'" do not match any of the defined signatures of function '+T+"."),S.data={category:"mismatch",actual:se},S}function W(p){let A=u.length+1;for(let N=0;N<p.types.length;N++)I(p.types[N])&&(A=Math.min(A,p.types[N].typeIndex));return A}function Y(p){let A=i+1;for(let N=0;N<p.types.length;N++)I(p.types[N])||(A=Math.min(A,p.types[N].conversionIndex));return A}function V(p,A){if(p.hasAny){if(!A.hasAny)return 1}else if(A.hasAny)return-1;if(p.restParam){if(!A.restParam)return 1}else if(A.restParam)return-1;if(p.hasConversion){if(!A.hasConversion)return 1}else if(A.hasConversion)return-1;const N=W(p)-W(A);if(N<0)return-1;if(N>0)return 1;const S=Y(p)-Y(A);return S<0?-1:S>0?1:0}function q(p,A){const N=p.params,S=A.params,z=fe(N),T=fe(S),L=v(N),$=v(S);if(L&&z.hasAny){if(!$||!T.hasAny)return 1}else if($&&T.hasAny)return-1;let Z=0,P=0,se;for(se of N)se.hasAny&&++Z,se.hasConversion&&++P;let he=0,Ae=0;for(se of S)se.hasAny&&++he,se.hasConversion&&++Ae;if(Z!==he)return Z-he;if(L&&z.hasConversion){if(!$||!T.hasConversion)return 1}else if($&&T.hasConversion)return-1;if(P!==Ae)return P-Ae;if(L){if(!$)return 1}else if($)return-1;const Re=(N.length-S.length)*(L?-1:1);if(Re!==0)return Re;const Pe=[];let Ye=0;for(let dt=0;dt<N.length;++dt){const xt=V(N[dt],S[dt]);Pe.push(xt),Ye+=xt}if(Ye!==0)return Ye;let Xe;for(Xe of Pe)if(Xe!==0)return Xe;return 0}function Q(p){if(p.length===0)return[];const A=p.map(s);p.length>1&&A.sort((z,T)=>z.index-T.index);let N=A[0].conversionsTo;if(p.length===1)return N;N=N.concat([]);const S=new Set(p);for(let z=1;z<A.length;++z){let T;for(T of A[z].conversionsTo)S.has(T.from)||(N.push(T),S.add(T.from))}return N}function X(p,A){let N=A;if(p.some(z=>z.hasConversion)){const z=v(p),T=p.map(K);N=function(){const $=[],Z=z?arguments.length-1:arguments.length;for(let P=0;P<Z;P++)$[P]=T[P](arguments[P]);return z&&($[Z]=arguments[Z].map(T[Z])),A.apply(this,$)}}let S=N;if(v(p)){const z=p.length-1;S=function(){return N.apply(this,oe(arguments,0,z).concat([oe(arguments,z)]))}}return S}function K(p){let A,N,S,z;const T=[],L=[];switch(p.types.forEach(function($){$.conversion&&(T.push(s($.conversion.from).test),L.push($.conversion.convert))}),L.length){case 0:return function(Z){return Z};case 1:return A=T[0],S=L[0],function(Z){return A(Z)?S(Z):Z};case 2:return A=T[0],N=T[1],S=L[0],z=L[1],function(Z){return A(Z)?S(Z):N(Z)?z(Z):Z};default:return function(Z){for(let P=0;P<L.length;P++)if(T[P](Z))return L[P](Z);return Z}}}function k(p){function A(N,S,z){if(S<N.length){const T=N[S];let L=[];if(T.restParam){const $=T.types.filter(I);$.length<T.types.length&&L.push({types:$,name:"..."+$.map(Z=>Z.name).join("|"),hasAny:$.some(Z=>Z.isAny),hasConversion:!1,restParam:!0}),L.push(T)}else L=T.types.map(function($){return{types:[$],name:$.name,hasAny:$.isAny,hasConversion:$.conversion,restParam:!1}});return Te(L,function($){return A(N,S+1,z.concat([$]))})}else return[z]}return A(p,0,[])}function te(p,A){const N=Math.max(p.length,A.length);for(let $=0;$<N;$++){const Z=b(p,$),P=b(A,$);let se=!1,he;for(he of P)if(Z.has(he)){se=!0;break}if(!se)return!1}const S=p.length,z=A.length,T=v(p),L=v(A);return T?L?S===z:z>=S:L?S>=z:S===z}function ne(p){return p.map(A=>tt(A)?Ve(A.referToSelf.callback):et(A)?Me(A.referTo.references,A.referTo.callback):A)}function ae(p,A,N){const S=[];let z;for(z of p){let T=N[z];if(typeof T!="number")throw new TypeError('No definition for referenced signature "'+z+'"');if(T=A[T],typeof T!="function")return!1;S.push(T)}return S}function Ee(p,A,N){const S=ne(p),z=new Array(S.length).fill(!1);let T=!0;for(;T;){T=!1;let L=!0;for(let $=0;$<S.length;++$){if(z[$])continue;const Z=S[$];if(tt(Z))S[$]=Z.referToSelf.callback(N),S[$].referToSelf=Z.referToSelf,z[$]=!0,L=!1;else if(et(Z)){const P=ae(Z.referTo.references,S,A);P?(S[$]=Z.referTo.callback.apply(this,P),S[$].referTo=Z.referTo,z[$]=!0,L=!1):T=!0}}if(L&&T)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return S}function me(p){const A=/\bthis(\(|\.signatures\b)/;Object.keys(p).forEach(N=>{const S=p[N];if(A.test(S.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ve(p,A){if(o.createCount++,Object.keys(A).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&me(A);const N=[],S=[],z={},T=[];let L;for(L in A){if(!Object.prototype.hasOwnProperty.call(A,L))continue;const ie=B(L);if(!ie)continue;N.forEach(function(_t){if(te(_t,ie))throw new TypeError('Conflicting signatures "'+g(_t)+'" and "'+g(ie)+'".')}),N.push(ie);const $e=S.length;S.push(A[L]);const wu=ie.map(C);let It;for(It of k(wu)){const _t=g(It);T.push({params:It,name:_t,fn:$e}),It.every(Eu=>!Eu.hasConversion)&&(z[_t]=$e)}}T.sort(q);const $=Ee(S,z,Bt);let Z;for(Z in z)Object.prototype.hasOwnProperty.call(z,Z)&&(z[Z]=$[z[Z]]);const P=[],se=new Map;for(Z of T)se.has(Z.name)||(Z.fn=$[Z.fn],P.push(Z),se.set(Z.name,Z));const he=P[0]&&P[0].params.length<=2&&!v(P[0].params),Ae=P[1]&&P[1].params.length<=2&&!v(P[1].params),Re=P[2]&&P[2].params.length<=2&&!v(P[2].params),Pe=P[3]&&P[3].params.length<=2&&!v(P[3].params),Ye=P[4]&&P[4].params.length<=2&&!v(P[4].params),Xe=P[5]&&P[5].params.length<=2&&!v(P[5].params),dt=he&&Ae&&Re&&Pe&&Ye&&Xe;for(let ie=0;ie<P.length;++ie)P[ie].test=_(P[ie].params);const xt=he?d(P[0].params[0]):We,Jn=Ae?d(P[1].params[0]):We,Yn=Re?d(P[2].params[0]):We,Xn=Pe?d(P[3].params[0]):We,Gn=Ye?d(P[4].params[0]):We,Kn=Xe?d(P[5].params[0]):We,Qn=he?d(P[0].params[1]):We,jn=Ae?d(P[1].params[1]):We,kn=Re?d(P[2].params[1]):We,eu=Pe?d(P[3].params[1]):We,tu=Ye?d(P[4].params[1]):We,ru=Xe?d(P[5].params[1]):We;for(let ie=0;ie<P.length;++ie)P[ie].implementation=X(P[ie].params,P[ie].fn);const nu=he?P[0].implementation:vt,uu=Ae?P[1].implementation:vt,iu=Re?P[2].implementation:vt,ou=Pe?P[3].implementation:vt,su=Ye?P[4].implementation:vt,au=Xe?P[5].implementation:vt,fu=he?P[0].params.length:-1,cu=Ae?P[1].params.length:-1,lu=Re?P[2].params.length:-1,hu=Pe?P[3].params.length:-1,Du=Ye?P[4].params.length:-1,pu=Xe?P[5].params.length:-1,du=dt?6:0,vu=P.length,gu=P.map(ie=>ie.test),mu=P.map(ie=>ie.implementation),Fu=function(){for(let $e=du;$e<vu;$e++)if(gu[$e](arguments))return mu[$e].apply(this,arguments);return o.onMismatch(p,arguments,P)};function Bt(ie,$e){return arguments.length===fu&&xt(ie)&&Qn($e)?nu.apply(this,arguments):arguments.length===cu&&Jn(ie)&&jn($e)?uu.apply(this,arguments):arguments.length===lu&&Yn(ie)&&kn($e)?iu.apply(this,arguments):arguments.length===hu&&Xn(ie)&&eu($e)?ou.apply(this,arguments):arguments.length===Du&&Gn(ie)&&tu($e)?su.apply(this,arguments):arguments.length===pu&&Kn(ie)&&ru($e)?au.apply(this,arguments):Fu.apply(this,arguments)}try{Object.defineProperty(Bt,"name",{value:p})}catch{}return Bt.signatures=z,Bt._typedFunctionData={signatures:P,signatureMap:se},Bt}function De(p,A,N){throw R(p,A,N)}function ze(p){return oe(p,0,p.length-1)}function fe(p){return p[p.length-1]}function oe(p,A,N){return Array.prototype.slice.call(p,A,N)}function Ze(p,A){for(let N=0;N<p.length;N++)if(A(p[N]))return p[N]}function Te(p,A){return Array.prototype.concat.apply([],p.map(A))}function ce(){const p=ze(arguments).map(N=>g(B(N))),A=fe(arguments);if(typeof A!="function")throw new TypeError("Callback function expected as last argument");return Me(p,A)}function Me(p,A){return{referTo:{references:p,callback:A}}}function Ve(p){if(typeof p!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:p}}}function et(p){return p&&typeof p.referTo=="object"&&Array.isArray(p.referTo.references)&&typeof p.referTo.callback=="function"}function tt(p){return p&&typeof p.referToSelf=="object"&&typeof p.referToSelf.callback=="function"}function Dt(p,A){if(!p)return A;if(A&&A!==p){const N=new Error("Function names do not match (expected: "+p+", actual: "+A+")");throw N.data={actual:A,expected:p},N}return p}function pt(p){let A;for(const N in p)Object.prototype.hasOwnProperty.call(p,N)&&(D(p[N])||typeof p[N].signature=="string")&&(A=Dt(A,p[N].name));return A}function tr(p,A){let N;for(N in A)if(Object.prototype.hasOwnProperty.call(A,N)){if(N in p&&A[N]!==p[N]){const S=new Error('Signature "'+N+'" is defined twice');throw S.data={signature:N,sourceFunction:A[N],destFunction:p[N]},S}p[N]=A[N]}}const Hn=o;o=function(p){const A=typeof p=="string",N=A?1:0;let S=A?p:"";const z={};for(let T=N;T<arguments.length;++T){const L=arguments[T];let $={},Z;if(typeof L=="function"?(Z=L.name,typeof L.signature=="string"?$[L.signature]=L:D(L)&&($=L.signatures)):e(L)&&($=L,A||(Z=pt(L))),Object.keys($).length===0){const P=new TypeError("Argument to 'typed' at index "+T+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw P.data={index:T,argument:L},P}A||(S=Dt(S,Z)),tr(z,$)}return ve(S||"",z)},o.create=fn,o.createCount=Hn.createCount,o.onMismatch=De,o.throwMismatchError=De,o.createError=R,o.clear=f,o.clearConversions=h,o.addTypes=c,o._findType=s,o.referTo=ce,o.referToSelf=Ve,o.convert=l,o.findSignature=m,o.find=E,o.isTypedFunction=D,o.warnAgainstDeprecatedThis=!0,o.addType=function(p,A){let N="any";A!==!1&&n.has("Object")&&(N="Object"),o.addTypes([p],N)};function br(p){if(!p||typeof p.from!="string"||typeof p.to!="string"||typeof p.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(p.to===p.from)throw new SyntaxError('Illegal to define conversion from "'+p.from+'" to itself.')}return o.addConversion=function(p){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};br(p);const N=s(p.to),S=N.conversionsTo.find(z=>z.from===p.from);if(S)if(A&&A.override)o.removeConversion({from:S.from,to:p.to,convert:S.convert});else throw new Error('There is already a conversion from "'+p.from+'" to "'+N.name+'"');N.conversionsTo.push({from:p.from,convert:p.convert,index:i++})},o.addConversions=function(p,A){p.forEach(N=>o.addConversion(N,A))},o.removeConversion=function(p){br(p);const A=s(p.to),N=Ze(A.conversionsTo,z=>z.from===p.from);if(!N)throw new Error("Attempt to remove nonexistent conversion from "+p.from+" to "+p.to);if(N.convert!==p.convert)throw new Error("Conversion to remove does not match existing conversion");const S=A.conversionsTo.indexOf(N);A.conversionsTo.splice(S,1)},o.resolve=function(p,A){if(!D(p))throw new TypeError(Mr);const N=p._typedFunctionData.signatures;for(let S=0;S<N.length;++S)if(N[S].test(A))return N[S];return null},o}const Zt=fn();function re(e,t,r,n){function u(i){var o=ai(i,t.map(Di));return li(e,t,i),r(o)}return u.isFactory=!0,u.fn=e,u.dependencies=t.slice().sort(),n&&(u.meta=n),u}function li(e,t,r){var n=t.filter(i=>!hi(i)).every(i=>r[i]!==void 0);if(!n){var u=t.filter(i=>r[i]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(u.map(i=>'"'.concat(i,'"')).join(", "),"."))}}function hi(e){return e&&e[0]==="?"}function Di(e){return e&&e[0]==="?"?e.slice(1):e}function Ne(e){return typeof e=="boolean"?!0:Number.isFinite(e)?e===Math.round(e):!1}function rr(e,t,r){var n={2:"0b",8:"0o",16:"0x"},u=n[t],i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ne(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Ne(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),i="i".concat(r)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(u).concat(e.toString(t)).concat(i)}function or(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:n,wordSize:u}=cn(t);switch(r){case"fixed":return di(e,n);case"exponential":return ln(e,n);case"engineering":return pi(e,n);case"bin":return rr(e,2,u);case"oct":return rr(e,8,u);case"hex":return rr(e,16,u);case"auto":return vi(e,n,t).replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],o=arguments[4];return i!=="."?i+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function cn(e){var t="auto",r,n;if(e!==void 0)if(ue(e))r=e;else if(ye(e))r=e.toNumber();else if(dr(e))e.precision!==void 0&&(r=Sr(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(n=Sr(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:r,wordSize:n}}function Gt(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],u=parseFloat(t[4]||"0"),i=n.indexOf(".");u+=i!==-1?i-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(s){return u-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return o.length===0&&(o.push(0),u++),{sign:r,coefficients:o,exponent:u}}function pi(e,t){if(isNaN(e)||!Number.isFinite(e))return String(e);var r=Gt(e),n=Kt(r,t),u=n.exponent,i=n.coefficients,o=u%3===0?u:u<0?u-3-u%3:u-u%3;if(ue(t))for(;t>i.length||u-o+1>i.length;)i.push(0);else for(var s=Math.abs(u-o)-(i.length-1),c=0;c<s;c++)i.push(0);for(var f=Math.abs(u-o),h=1;f>0;)h++,f--;var a=i.slice(h).join(""),D=ue(t)&&a.length||a.match(/[1-9]/)?"."+a:"",m=i.slice(0,h).join("")+D+"e"+(u>=0?"+":"")+o.toString();return n.sign+m}function di(e,t){if(isNaN(e)||!Number.isFinite(e))return String(e);var r=Gt(e),n=typeof t=="number"?Kt(r,r.exponent+1+t):r,u=n.coefficients,i=n.exponent+1,o=i+(t||0);return u.length<o&&(u=u.concat(wt(o-u.length))),i<0&&(u=wt(-i+1).concat(u),i=1),i<u.length&&u.splice(i,0,i===0?"0.":"."),n.sign+u.join("")}function ln(e,t){if(isNaN(e)||!Number.isFinite(Number(e)))return String(e);var r=Gt(e),n=t?Kt(r,t):r,u=n.coefficients,i=n.exponent;u.length<t&&(u=u.concat(wt(t-u.length)));var o=u.shift();return n.sign+o+(u.length>0?"."+u.join(""):"")+"e"+(i>=0?"+":"")+i}function vi(e,t,r){if(isNaN(e)||!Number.isFinite(e))return String(e);var n=Tr(r?.lowerExp,-3),u=Tr(r?.upperExp,5),i=Gt(e),o=t?Kt(i,t):i;if(o.exponent<n||o.exponent>=u)return ln(e,t);var s=o.coefficients,c=o.exponent;s.length<t&&(s=s.concat(wt(t-s.length))),s=s.concat(wt(c-s.length+1+(s.length<t?t-s.length:0))),s=wt(-c).concat(s);var f=c>0?c:0;return f<s.length-1&&s.splice(f+1,0,"."),o.sign+s.join("")}function Kt(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t){var u=n.splice(t,n.length-t);if(u[0]>=5){var i=t-1;for(n[i]++;n[i]===10;)n.pop(),i===0&&(n.unshift(0),r.exponent++,i++),i--,n[i]++}}return r}function wt(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function gi(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function Vt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(t)?!1:!Number.isFinite(e)||!Number.isFinite(t)?e===t:e===t?!0:Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),n)}function Sr(e,t){if(ue(e))return e;if(ye(e))return e.toNumber();t()}function Tr(e,t){return ue(e)?e:ye(e)?e.toNumber():t}var hn=function(){return hn=Zt.create,Zt},mi=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Fi=re("typed",mi,function(t){var{BigNumber:r,Complex:n,DenseMatrix:u,Fraction:i}=t,o=hn();return o.clear(),o.addTypes([{name:"number",test:ue},{name:"Complex",test:on},{name:"BigNumber",test:ye},{name:"bigint",test:Su},{name:"Fraction",test:sn},{name:"Unit",test:an},{name:"identifier",test:s=>Qe&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:Qe},{name:"Chain",test:ii},{name:"Array",test:_e},{name:"Matrix",test:Be},{name:"DenseMatrix",test:Tu},{name:"SparseMatrix",test:xu},{name:"Range",test:Iu},{name:"Index",test:pr},{name:"boolean",test:Ou},{name:"ResultSet",test:zu},{name:"Help",test:Pu},{name:"function",test:Ru},{name:"Date",test:$u},{name:"RegExp",test:qu},{name:"null",test:Lu},{name:"undefined",test:Zu},{name:"AccessorNode",test:Vu},{name:"ArrayNode",test:Wu},{name:"AssignmentNode",test:Hu},{name:"BlockNode",test:Ju},{name:"ConditionalNode",test:Yu},{name:"ConstantNode",test:Xu},{name:"FunctionNode",test:Ku},{name:"FunctionAssignmentNode",test:Gu},{name:"IndexNode",test:Qu},{name:"Node",test:ju},{name:"ObjectNode",test:ku},{name:"OperatorNode",test:ei},{name:"ParenthesisNode",test:ti},{name:"RangeNode",test:ri},{name:"RelationalNode",test:ni},{name:"SymbolNode",test:ui},{name:"Map",test:Uu},{name:"Object",test:dr}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(r||Ot(c),gi(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new r(c)}},{from:"number",to:"Complex",convert:function(c){return n||zt(c),new n(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return n||zt(c),new n(c.toNumber(),0)}},{from:"bigint",to:"number",convert:function(c){if(c>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+c+")");return Number(c)}},{from:"bigint",to:"BigNumber",convert:function(c){return r||Ot(c),new r(c.toString())}},{from:"bigint",to:"Fraction",convert:function(c){return i||Pt(c),new i(c)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return n||zt(c),new n(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){i||Pt(c);var f=new i(c);if(f.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return f}},{from:"string",to:"number",convert:function(c){var f=Number(c);if(isNaN(f))throw new Error('Cannot convert "'+c+'" to a number');return f}},{from:"string",to:"BigNumber",convert:function(c){r||Ot(c);try{return new r(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(c){try{return BigInt(c)}catch{throw new Error('Cannot convert "'+c+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(c){i||Pt(c);try{return new i(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){n||zt(c);try{return new n(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return r||Ot(c),new r(+c)}},{from:"boolean",to:"bigint",convert:function(c){return BigInt(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return i||Pt(c),new i(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return u||wi(),new u(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),o.onMismatch=(s,c,f)=>{var h=o.createError(s,c,f);if(["wrongType","mismatch"].includes(h.data.category)&&c.length===1&&Lt(c[0])&&f.some(D=>!D.params.includes(","))){var a=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw a.data=h.data,a}throw h},o.onMismatch=(s,c,f)=>{var h=o.createError(s,c,f);if(["wrongType","mismatch"].includes(h.data.category)&&c.length===1&&Lt(c[0])&&f.some(D=>!D.params.includes(","))){var a=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw a.data=h.data,a}throw h},o});function Ot(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function zt(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function wi(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Pt(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var Ft=9e15,ft=1e9,sr="0123456789abcdef",Wt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Ht="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",ar={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ft,maxE:Ft,crypto:!1},Dn,nt,j=!0,Qt="[DecimalError] ",at=Qt+"Invalid argument: ",pn=Qt+"Precision limit exceeded",dn=Qt+"crypto unavailable",vn="[object Decimal]",Oe=Math.floor,be=Math.pow,Ei=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Ai=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Ci=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,gn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ke=1e7,G=7,yi=9007199254740991,Bi=Wt.length-1,fr=Ht.length-1,x={toStringTag:vn};x.absoluteValue=x.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),J(e)};x.ceil=function(){return J(new this.constructor(this),this.e+1,2)};x.clampedTo=x.clamp=function(e,t){var r,n=this,u=n.constructor;if(e=new u(e),t=new u(t),!e.s||!t.s)return new u(NaN);if(e.gt(t))throw Error(at+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new u(n)};x.comparedTo=x.cmp=function(e){var t,r,n,u,i=this,o=i.d,s=(e=new i.constructor(e)).d,c=i.s,f=e.s;if(!o||!s)return!c||!f?NaN:c!==f?c:o===s?0:!o^c<0?1:-1;if(!o[0]||!s[0])return o[0]?c:s[0]?-f:0;if(c!==f)return c;if(i.e!==e.e)return i.e>e.e^c<0?1:-1;for(n=o.length,u=s.length,t=0,r=n<u?n:u;t<r;++t)if(o[t]!==s[t])return o[t]>s[t]^c<0?1:-1;return n===u?0:n>u^c<0?1:-1};x.cosine=x.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+G,n.rounding=1,r=_i(n,An(n,r)),n.precision=e,n.rounding=t,J(nt==2||nt==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};x.cubeRoot=x.cbrt=function(){var e,t,r,n,u,i,o,s,c,f,h=this,a=h.constructor;if(!h.isFinite()||h.isZero())return new a(h);for(j=!1,i=h.s*be(h.s*h,1/3),!i||Math.abs(i)==1/0?(r=xe(h.d),e=h.e,(i=(e-r.length+1)%3)&&(r+=i==1||i==-2?"0":"00"),i=be(r,1/3),e=Oe((e+1)/3)-(e%3==(e<0?-1:2)),i==1/0?r="5e"+e:(r=i.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new a(r),n.s=h.s):n=new a(i.toString()),o=(e=a.precision)+3;;)if(s=n,c=s.times(s).times(s),f=c.plus(h),n=le(f.plus(h).times(s),f.plus(c),o+2,1),xe(s.d).slice(0,o)===(r=xe(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!u&&r=="4999"){if(!u&&(J(s,e+1,0),s.times(s).times(s).eq(h))){n=s;break}o+=4,u=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(J(n,e+1,1),t=!n.times(n).times(n).eq(h));break}return j=!0,J(n,e,a.rounding,t)};x.decimalPlaces=x.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-Oe(this.e/G))*G,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};x.dividedBy=x.div=function(e){return le(this,new this.constructor(e))};x.dividedToIntegerBy=x.divToInt=function(e){var t=this,r=t.constructor;return J(le(t,new r(e),0,1,1),r.precision,r.rounding)};x.equals=x.eq=function(e){return this.cmp(e)===0};x.floor=function(){return J(new this.constructor(this),this.e+1,3)};x.greaterThan=x.gt=function(e){return this.cmp(e)>0};x.greaterThanOrEqualTo=x.gte=function(e){var t=this.cmp(e);return t==1||t===0};x.hyperbolicCosine=x.cosh=function(){var e,t,r,n,u,i=this,o=i.constructor,s=new o(1);if(!i.isFinite())return new o(i.s?1/0:NaN);if(i.isZero())return s;r=o.precision,n=o.rounding,o.precision=r+Math.max(i.e,i.sd())+4,o.rounding=1,u=i.d.length,u<32?(e=Math.ceil(u/3),t=(1/kt(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),i=At(o,1,i.times(t),new o(1),!0);for(var c,f=e,h=new o(8);f--;)c=i.times(i),i=s.minus(c.times(h.minus(c.times(h))));return J(i,o.precision=r,o.rounding=n,!0)};x.hyperbolicSine=x.sinh=function(){var e,t,r,n,u=this,i=u.constructor;if(!u.isFinite()||u.isZero())return new i(u);if(t=i.precision,r=i.rounding,i.precision=t+Math.max(u.e,u.sd())+4,i.rounding=1,n=u.d.length,n<3)u=At(i,2,u,u,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,u=u.times(1/kt(5,e)),u=At(i,2,u,u,!0);for(var o,s=new i(5),c=new i(16),f=new i(20);e--;)o=u.times(u),u=u.times(s.plus(o.times(c.times(o).plus(f))))}return i.precision=t,i.rounding=r,J(u,t,r,!0)};x.hyperbolicTangent=x.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,le(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};x.inverseCosine=x.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,u=t.rounding;return r!==-1?r===0?e.isNeg()?je(t,n,u):new t(0):new t(NaN):e.isZero()?je(t,n+4,u).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=u,e.times(2))};x.inverseHyperbolicCosine=x.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,j=!1,r=r.times(r).minus(1).sqrt().plus(r),j=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};x.inverseHyperbolicSine=x.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,j=!1,r=r.times(r).plus(1).sqrt().plus(r),j=!0,n.precision=e,n.rounding=t,r.ln())};x.inverseHyperbolicTangent=x.atanh=function(){var e,t,r,n,u=this,i=u.constructor;return u.isFinite()?u.e>=0?new i(u.abs().eq(1)?u.s/0:u.isZero()?u:NaN):(e=i.precision,t=i.rounding,n=u.sd(),Math.max(n,e)<2*-u.e-1?J(new i(u),e,t,!0):(i.precision=r=n-u.e,u=le(u.plus(1),new i(1).minus(u),r+e,1),i.precision=e+4,i.rounding=1,u=u.ln(),i.precision=e,i.rounding=t,u.times(.5))):new i(NaN)};x.inverseSine=x.asin=function(){var e,t,r,n,u=this,i=u.constructor;return u.isZero()?new i(u):(t=u.abs().cmp(1),r=i.precision,n=i.rounding,t!==-1?t===0?(e=je(i,r+4,n).times(.5),e.s=u.s,e):new i(NaN):(i.precision=r+6,i.rounding=1,u=u.div(new i(1).minus(u.times(u)).sqrt().plus(1)).atan(),i.precision=r,i.rounding=n,u.times(2)))};x.inverseTangent=x.atan=function(){var e,t,r,n,u,i,o,s,c,f=this,h=f.constructor,a=h.precision,D=h.rounding;if(f.isFinite()){if(f.isZero())return new h(f);if(f.abs().eq(1)&&a+4<=fr)return o=je(h,a+4,D).times(.25),o.s=f.s,o}else{if(!f.s)return new h(NaN);if(a+4<=fr)return o=je(h,a+4,D).times(.5),o.s=f.s,o}for(h.precision=s=a+10,h.rounding=1,r=Math.min(28,s/G+2|0),e=r;e;--e)f=f.div(f.times(f).plus(1).sqrt().plus(1));for(j=!1,t=Math.ceil(s/G),n=1,c=f.times(f),o=new h(f),u=f;e!==-1;)if(u=u.times(c),i=o.minus(u.div(n+=2)),u=u.times(c),o=i.plus(u.div(n+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===i.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),j=!0,J(o,h.precision=a,h.rounding=D,!0)};x.isFinite=function(){return!!this.d};x.isInteger=x.isInt=function(){return!!this.d&&Oe(this.e/G)>this.d.length-2};x.isNaN=function(){return!this.s};x.isNegative=x.isNeg=function(){return this.s<0};x.isPositive=x.isPos=function(){return this.s>0};x.isZero=function(){return!!this.d&&this.d[0]===0};x.lessThan=x.lt=function(e){return this.cmp(e)<0};x.lessThanOrEqualTo=x.lte=function(e){return this.cmp(e)<1};x.logarithm=x.log=function(e){var t,r,n,u,i,o,s,c,f=this,h=f.constructor,a=h.precision,D=h.rounding,m=5;if(e==null)e=new h(10),t=!0;else{if(e=new h(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new h(NaN);t=e.eq(10)}if(r=f.d,f.s<0||!r||!r[0]||f.eq(1))return new h(r&&!r[0]?-1/0:f.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(u=r[0];u%10===0;)u/=10;i=u!==1}if(j=!1,s=a+m,o=ot(f,s),n=t?Jt(h,s+10):ot(e,s),c=le(o,n,s,1),Nt(c.d,u=a,D))do if(s+=10,o=ot(f,s),n=t?Jt(h,s+10):ot(e,s),c=le(o,n,s,1),!i){+xe(c.d).slice(u+1,u+15)+1==1e14&&(c=J(c,a+1,0));break}while(Nt(c.d,u+=10,D));return j=!0,J(c,a,D)};x.minus=x.sub=function(e){var t,r,n,u,i,o,s,c,f,h,a,D,m=this,E=m.constructor;if(e=new E(e),!m.d||!e.d)return!m.s||!e.s?e=new E(NaN):m.d?e.s=-e.s:e=new E(e.d||m.s!==e.s?m:NaN),e;if(m.s!=e.s)return e.s=-e.s,m.plus(e);if(f=m.d,D=e.d,s=E.precision,c=E.rounding,!f[0]||!D[0]){if(D[0])e.s=-e.s;else if(f[0])e=new E(m);else return new E(c===3?-0:0);return j?J(e,s,c):e}if(r=Oe(e.e/G),h=Oe(m.e/G),f=f.slice(),i=h-r,i){for(a=i<0,a?(t=f,i=-i,o=D.length):(t=D,r=h,o=f.length),n=Math.max(Math.ceil(s/G),o)+2,i>n&&(i=n,t.length=1),t.reverse(),n=i;n--;)t.push(0);t.reverse()}else{for(n=f.length,o=D.length,a=n<o,a&&(o=n),n=0;n<o;n++)if(f[n]!=D[n]){a=f[n]<D[n];break}i=0}for(a&&(t=f,f=D,D=t,e.s=-e.s),o=f.length,n=D.length-o;n>0;--n)f[o++]=0;for(n=D.length;n>i;){if(f[--n]<D[n]){for(u=n;u&&f[--u]===0;)f[u]=Ke-1;--f[u],f[n]+=Ke}f[n]-=D[n]}for(;f[--o]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=jt(f,r),j?J(e,s,c):e):new E(c===3?-0:0)};x.modulo=x.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?J(new n(r),n.precision,n.rounding):(j=!1,n.modulo==9?(t=le(r,e.abs(),0,3,1),t.s*=e.s):t=le(r,e,0,n.modulo,1),t=t.times(e),j=!0,r.minus(t))};x.naturalExponential=x.exp=function(){return cr(this)};x.naturalLogarithm=x.ln=function(){return ot(this)};x.negated=x.neg=function(){var e=new this.constructor(this);return e.s=-e.s,J(e)};x.plus=x.add=function(e){var t,r,n,u,i,o,s,c,f,h,a=this,D=a.constructor;if(e=new D(e),!a.d||!e.d)return!a.s||!e.s?e=new D(NaN):a.d||(e=new D(e.d||a.s===e.s?a:NaN)),e;if(a.s!=e.s)return e.s=-e.s,a.minus(e);if(f=a.d,h=e.d,s=D.precision,c=D.rounding,!f[0]||!h[0])return h[0]||(e=new D(a)),j?J(e,s,c):e;if(i=Oe(a.e/G),n=Oe(e.e/G),f=f.slice(),u=i-n,u){for(u<0?(r=f,u=-u,o=h.length):(r=h,n=i,o=f.length),i=Math.ceil(s/G),o=i>o?i+1:o+1,u>o&&(u=o,r.length=1),r.reverse();u--;)r.push(0);r.reverse()}for(o=f.length,u=h.length,o-u<0&&(u=o,r=h,h=f,f=r),t=0;u;)t=(f[--u]=f[u]+h[u]+t)/Ke|0,f[u]%=Ke;for(t&&(f.unshift(t),++n),o=f.length;f[--o]==0;)f.pop();return e.d=f,e.e=jt(f,n),j?J(e,s,c):e};x.precision=x.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(at+e);return r.d?(t=mn(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};x.round=function(){var e=this,t=e.constructor;return J(new t(e),e.e+1,t.rounding)};x.sine=x.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+G,n.rounding=1,r=Ni(n,An(n,r)),n.precision=e,n.rounding=t,J(nt>2?r.neg():r,e,t,!0)):new n(NaN)};x.squareRoot=x.sqrt=function(){var e,t,r,n,u,i,o=this,s=o.d,c=o.e,f=o.s,h=o.constructor;if(f!==1||!s||!s[0])return new h(!f||f<0&&(!s||s[0])?NaN:s?o:1/0);for(j=!1,f=Math.sqrt(+o),f==0||f==1/0?(t=xe(s),(t.length+c)%2==0&&(t+="0"),f=Math.sqrt(t),c=Oe((c+1)/2)-(c<0||c%2),f==1/0?t="5e"+c:(t=f.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),n=new h(t)):n=new h(f.toString()),r=(c=h.precision)+3;;)if(i=n,n=i.plus(le(o,i,r+2,1)).times(.5),xe(i.d).slice(0,r)===(t=xe(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!u&&t=="4999"){if(!u&&(J(i,c+1,0),i.times(i).eq(o))){n=i;break}r+=4,u=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(J(n,c+1,1),e=!n.times(n).eq(o));break}return j=!0,J(n,c,h.rounding,e)};x.tangent=x.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=le(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,J(nt==2||nt==4?r.neg():r,e,t,!0)):new n(NaN)};x.times=x.mul=function(e){var t,r,n,u,i,o,s,c,f,h=this,a=h.constructor,D=h.d,m=(e=new a(e)).d;if(e.s*=h.s,!D||!D[0]||!m||!m[0])return new a(!e.s||D&&!D[0]&&!m||m&&!m[0]&&!D?NaN:!D||!m?e.s/0:e.s*0);for(r=Oe(h.e/G)+Oe(e.e/G),c=D.length,f=m.length,c<f&&(i=D,D=m,m=i,o=c,c=f,f=o),i=[],o=c+f,n=o;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,u=c+n;u>n;)s=i[u]+m[n]*D[u-n-1]+t,i[u--]=s%Ke|0,t=s/Ke|0;i[u]=(i[u]+t)%Ke|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=jt(i,r),j?J(e,a.precision,a.rounding):e};x.toBinary=function(e,t){return vr(this,2,e,t)};x.toDecimalPlaces=x.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Le(e,0,ft),t===void 0?t=n.rounding:Le(t,0,8),J(r,e+r.e+1,t))};x.toExponential=function(e,t){var r,n=this,u=n.constructor;return e===void 0?r=ke(n,!0):(Le(e,0,ft),t===void 0?t=u.rounding:Le(t,0,8),n=J(new u(n),e+1,t),r=ke(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};x.toFixed=function(e,t){var r,n,u=this,i=u.constructor;return e===void 0?r=ke(u):(Le(e,0,ft),t===void 0?t=i.rounding:Le(t,0,8),n=J(new i(u),e+u.e+1,t),r=ke(n,!1,e+n.e+1)),u.isNeg()&&!u.isZero()?"-"+r:r};x.toFraction=function(e){var t,r,n,u,i,o,s,c,f,h,a,D,m=this,E=m.d,l=m.constructor;if(!E)return new l(m);if(f=r=new l(1),n=c=new l(0),t=new l(n),i=t.e=mn(E)-m.e-1,o=i%G,t.d[0]=be(10,o<0?G+o:o),e==null)e=i>0?t:f;else{if(s=new l(e),!s.isInt()||s.lt(f))throw Error(at+s);e=s.gt(t)?i>0?t:f:s}for(j=!1,s=new l(xe(E)),h=l.precision,l.precision=i=E.length*G*2;a=le(s,t,0,1,1),u=r.plus(a.times(n)),u.cmp(e)!=1;)r=n,n=u,u=f,f=c.plus(a.times(u)),c=u,u=t,t=s.minus(a.times(u)),s=u;return u=le(e.minus(r),n,0,1,1),c=c.plus(u.times(f)),r=r.plus(u.times(n)),c.s=f.s=m.s,D=le(f,n,i,1).minus(m).abs().cmp(le(c,r,i,1).minus(m).abs())<1?[f,n]:[c,r],l.precision=h,j=!0,D};x.toHexadecimal=x.toHex=function(e,t){return vr(this,16,e,t)};x.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:Le(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(j=!1,r=le(r,e,0,t,1).times(e),j=!0,J(r)):(e.s=r.s,r=e),r};x.toNumber=function(){return+this};x.toOctal=function(e,t){return vr(this,8,e,t)};x.toPower=x.pow=function(e){var t,r,n,u,i,o,s=this,c=s.constructor,f=+(e=new c(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new c(be(+s,f));if(s=new c(s),s.eq(1))return s;if(n=c.precision,i=c.rounding,e.eq(1))return J(s,n,i);if(t=Oe(e.e/G),t>=e.d.length-1&&(r=f<0?-f:f)<=yi)return u=Fn(c,s,r,n),e.s<0?new c(1).div(u):J(u,n,i);if(o=s.s,o<0){if(t<e.d.length-1)return new c(NaN);if((e.d[t]&1)==0&&(o=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=o,s}return r=be(+s,f),t=r==0||!isFinite(r)?Oe(f*(Math.log("0."+xe(s.d))/Math.LN10+s.e+1)):new c(r+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?o/0:0):(j=!1,c.rounding=s.s=1,r=Math.min(12,(t+"").length),u=cr(e.times(ot(s,n+r)),n),u.d&&(u=J(u,n+5,1),Nt(u.d,n,i)&&(t=n+10,u=J(cr(e.times(ot(s,t+r)),t),t+5,1),+xe(u.d).slice(n+1,n+15)+1==1e14&&(u=J(u,n+1,0)))),u.s=o,j=!0,c.rounding=i,J(u,n,i))};x.toPrecision=function(e,t){var r,n=this,u=n.constructor;return e===void 0?r=ke(n,n.e<=u.toExpNeg||n.e>=u.toExpPos):(Le(e,1,ft),t===void 0?t=u.rounding:Le(t,0,8),n=J(new u(n),e,t),r=ke(n,e<=n.e||n.e<=u.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};x.toSignificantDigits=x.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Le(e,1,ft),t===void 0?t=n.rounding:Le(t,0,8)),J(new n(r),e,t)};x.toString=function(){var e=this,t=e.constructor,r=ke(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};x.truncated=x.trunc=function(){return J(new this.constructor(this),this.e+1,1)};x.valueOf=x.toJSON=function(){var e=this,t=e.constructor,r=ke(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function xe(e){var t,r,n,u=e.length-1,i="",o=e[0];if(u>0){for(i+=o,t=1;t<u;t++)n=e[t]+"",r=G-n.length,r&&(i+=it(r)),i+=n;o=e[t],n=o+"",r=G-n.length,r&&(i+=it(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}function Le(e,t,r){if(e!==~~e||e<t||e>r)throw Error(at+e)}function Nt(e,t,r,n){var u,i,o,s;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=G,u=0):(u=Math.ceil((t+1)/G),t%=G),i=be(10,G-t),s=e[u]%i|0,n==null?t<3?(t==0?s=s/100|0:t==1&&(s=s/10|0),o=r<4&&s==99999||r>3&&s==49999||s==5e4||s==0):o=(r<4&&s+1==i||r>3&&s+1==i/2)&&(e[u+1]/i/100|0)==be(10,t-2)-1||(s==i/2||s==0)&&(e[u+1]/i/100|0)==0:t<4?(t==0?s=s/1e3|0:t==1?s=s/100|0:t==2&&(s=s/10|0),o=(n||r<4)&&s==9999||!n&&r>3&&s==4999):o=((n||r<4)&&s+1==i||!n&&r>3&&s+1==i/2)&&(e[u+1]/i/1e3|0)==be(10,t-3)-1,o}function Rt(e,t,r){for(var n,u=[0],i,o=0,s=e.length;o<s;){for(i=u.length;i--;)u[i]*=t;for(u[0]+=sr.indexOf(e.charAt(o++)),n=0;n<u.length;n++)u[n]>r-1&&(u[n+1]===void 0&&(u[n+1]=0),u[n+1]+=u[n]/r|0,u[n]%=r)}return u.reverse()}function _i(e,t){var r,n,u;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),u=(1/kt(4,r)).toString()):(r=16,u="2.3283064365386962890625e-10"),e.precision+=r,t=At(e,1,t.times(u),new e(1));for(var i=r;i--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}var le=function(){function e(n,u,i){var o,s=0,c=n.length;for(n=n.slice();c--;)o=n[c]*u+s,n[c]=o%i|0,s=o/i|0;return s&&n.unshift(s),n}function t(n,u,i,o){var s,c;if(i!=o)c=i>o?1:-1;else for(s=c=0;s<i;s++)if(n[s]!=u[s]){c=n[s]>u[s]?1:-1;break}return c}function r(n,u,i,o){for(var s=0;i--;)n[i]-=s,s=n[i]<u[i]?1:0,n[i]=s*o+n[i]-u[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,u,i,o,s,c){var f,h,a,D,m,E,l,g,w,C,F,B,v,d,_,y,b,I,O,R,W=n.constructor,Y=n.s==u.s?1:-1,V=n.d,q=u.d;if(!V||!V[0]||!q||!q[0])return new W(!n.s||!u.s||(V?q&&V[0]==q[0]:!q)?NaN:V&&V[0]==0||!q?Y*0:Y/0);for(c?(m=1,h=n.e-u.e):(c=Ke,m=G,h=Oe(n.e/m)-Oe(u.e/m)),O=q.length,b=V.length,w=new W(Y),C=w.d=[],a=0;q[a]==(V[a]||0);a++);if(q[a]>(V[a]||0)&&h--,i==null?(d=i=W.precision,o=W.rounding):s?d=i+(n.e-u.e)+1:d=i,d<0)C.push(1),E=!0;else{if(d=d/m+2|0,a=0,O==1){for(D=0,q=q[0],d++;(a<b||D)&&d--;a++)_=D*c+(V[a]||0),C[a]=_/q|0,D=_%q|0;E=D||a<b}else{for(D=c/(q[0]+1)|0,D>1&&(q=e(q,D,c),V=e(V,D,c),O=q.length,b=V.length),y=O,F=V.slice(0,O),B=F.length;B<O;)F[B++]=0;R=q.slice(),R.unshift(0),I=q[0],q[1]>=c/2&&++I;do D=0,f=t(q,F,O,B),f<0?(v=F[0],O!=B&&(v=v*c+(F[1]||0)),D=v/I|0,D>1?(D>=c&&(D=c-1),l=e(q,D,c),g=l.length,B=F.length,f=t(l,F,g,B),f==1&&(D--,r(l,O<g?R:q,g,c))):(D==0&&(f=D=1),l=q.slice()),g=l.length,g<B&&l.unshift(0),r(F,l,B,c),f==-1&&(B=F.length,f=t(q,F,O,B),f<1&&(D++,r(F,O<B?R:q,B,c))),B=F.length):f===0&&(D++,F=[0]),C[a++]=D,f&&F[0]?F[B++]=V[y]||0:(F=[V[y]],B=1);while((y++<b||F[0]!==void 0)&&d--);E=F[0]!==void 0}C[0]||C.shift()}if(m==1)w.e=h,Dn=E;else{for(a=1,D=C[0];D>=10;D/=10)a++;w.e=a+h*m-1,J(w,s?i+w.e+1:i,o,E)}return w}}();function J(e,t,r,n){var u,i,o,s,c,f,h,a,D,m=e.constructor;e:if(t!=null){if(a=e.d,!a)return e;for(u=1,s=a[0];s>=10;s/=10)u++;if(i=t-u,i<0)i+=G,o=t,h=a[D=0],c=h/be(10,u-o-1)%10|0;else if(D=Math.ceil((i+1)/G),s=a.length,D>=s)if(n){for(;s++<=D;)a.push(0);h=c=0,u=1,i%=G,o=i-G+1}else break e;else{for(h=s=a[D],u=1;s>=10;s/=10)u++;i%=G,o=i-G+u,c=o<0?0:h/be(10,u-o-1)%10|0}if(n=n||t<0||a[D+1]!==void 0||(o<0?h:h%be(10,u-o-1)),f=r<4?(c||n)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||n||r==6&&(i>0?o>0?h/be(10,u-o):0:a[D-1])%10&1||r==(e.s<0?8:7)),t<1||!a[0])return a.length=0,f?(t-=e.e+1,a[0]=be(10,(G-t%G)%G),e.e=-t||0):a[0]=e.e=0,e;if(i==0?(a.length=D,s=1,D--):(a.length=D+1,s=be(10,G-i),a[D]=o>0?(h/be(10,u-o)%be(10,o)|0)*s:0),f)for(;;)if(D==0){for(i=1,o=a[0];o>=10;o/=10)i++;for(o=a[0]+=s,s=1;o>=10;o/=10)s++;i!=s&&(e.e++,a[0]==Ke&&(a[0]=1));break}else{if(a[D]+=s,a[D]!=Ke)break;a[D--]=0,s=1}for(i=a.length;a[--i]===0;)a.pop()}return j&&(e.e>m.maxE?(e.d=null,e.e=NaN):e.e<m.minE&&(e.e=0,e.d=[0])),e}function ke(e,t,r){if(!e.isFinite())return En(e);var n,u=e.e,i=xe(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+it(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):u<0?(i="0."+it(-u-1)+i,r&&(n=r-o)>0&&(i+=it(n))):u>=o?(i+=it(u+1-o),r&&(n=r-u-1)>0&&(i=i+"."+it(n))):((n=u+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(u+1===o&&(i+="."),i+=it(n))),i}function jt(e,t){var r=e[0];for(t*=G;r>=10;r/=10)t++;return t}function Jt(e,t,r){if(t>Bi)throw j=!0,r&&(e.precision=r),Error(pn);return J(new e(Wt),t,1,!0)}function je(e,t,r){if(t>fr)throw Error(pn);return J(new e(Ht),t,r,!0)}function mn(e){var t=e.length-1,r=t*G+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function it(e){for(var t="";e--;)t+="0";return t}function Fn(e,t,r,n){var u,i=new e(1),o=Math.ceil(n/G+4);for(j=!1;;){if(r%2&&(i=i.times(t),Ir(i.d,o)&&(u=!0)),r=Oe(r/2),r===0){r=i.d.length-1,u&&i.d[r]===0&&++i.d[r];break}t=t.times(t),Ir(t.d,o)}return j=!0,i}function xr(e){return e.d[e.d.length-1]&1}function wn(e,t,r){for(var n,u,i=new e(t[0]),o=0;++o<t.length;){if(u=new e(t[o]),!u.s){i=u;break}n=i.cmp(u),(n===r||n===0&&i.s===r)&&(i=u)}return i}function cr(e,t){var r,n,u,i,o,s,c,f=0,h=0,a=0,D=e.constructor,m=D.rounding,E=D.precision;if(!e.d||!e.d[0]||e.e>17)return new D(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(j=!1,c=E):c=t,s=new D(.03125);e.e>-2;)e=e.times(s),a+=5;for(n=Math.log(be(2,a))/Math.LN10*2+5|0,c+=n,r=i=o=new D(1),D.precision=c;;){if(i=J(i.times(e),c,1),r=r.times(++h),s=o.plus(le(i,r,c,1)),xe(s.d).slice(0,c)===xe(o.d).slice(0,c)){for(u=a;u--;)o=J(o.times(o),c,1);if(t==null)if(f<3&&Nt(o.d,c-n,m,f))D.precision=c+=10,r=i=s=new D(1),h=0,f++;else return J(o,D.precision=E,m,j=!0);else return D.precision=E,o}o=s}}function ot(e,t){var r,n,u,i,o,s,c,f,h,a,D,m=1,E=10,l=e,g=l.d,w=l.constructor,C=w.rounding,F=w.precision;if(l.s<0||!g||!g[0]||!l.e&&g[0]==1&&g.length==1)return new w(g&&!g[0]?-1/0:l.s!=1?NaN:g?0:l);if(t==null?(j=!1,h=F):h=t,w.precision=h+=E,r=xe(g),n=r.charAt(0),Math.abs(i=l.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)l=l.times(e),r=xe(l.d),n=r.charAt(0),m++;i=l.e,n>1?(l=new w("0."+r),i++):l=new w(n+"."+r.slice(1))}else return f=Jt(w,h+2,F).times(i+""),l=ot(new w(n+"."+r.slice(1)),h-E).plus(f),w.precision=F,t==null?J(l,F,C,j=!0):l;for(a=l,c=o=l=le(l.minus(1),l.plus(1),h,1),D=J(l.times(l),h,1),u=3;;){if(o=J(o.times(D),h,1),f=c.plus(le(o,new w(u),h,1)),xe(f.d).slice(0,h)===xe(c.d).slice(0,h))if(c=c.times(2),i!==0&&(c=c.plus(Jt(w,h+2,F).times(i+""))),c=le(c,new w(m),h,1),t==null)if(Nt(c.d,h-E,C,s))w.precision=h+=E,f=o=l=le(a.minus(1),a.plus(1),h,1),D=J(l.times(l),h,1),u=s=1;else return J(c,w.precision=F,C,j=!0);else return w.precision=F,c;c=f,u+=2}}function En(e){return String(e.s*e.s/0)}function $t(e,t){var r,n,u;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(u=t.length;t.charCodeAt(u-1)===48;--u);if(t=t.slice(n,u),t){if(u-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%G,r<0&&(n+=G),n<u){for(n&&e.d.push(+t.slice(0,n)),u-=G;n<u;)e.d.push(+t.slice(n,n+=G));t=t.slice(n),n=G-t.length}else n-=u;for(;n--;)t+="0";e.d.push(+t),j&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function bi(e,t){var r,n,u,i,o,s,c,f,h;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),gn.test(t))return $t(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Ai.test(t))r=16,t=t.toLowerCase();else if(Ei.test(t))r=2;else if(Ci.test(t))r=8;else throw Error(at+t);for(i=t.search(/p/i),i>0?(c=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),i=t.indexOf("."),o=i>=0,n=e.constructor,o&&(t=t.replace(".",""),s=t.length,i=s-i,u=Fn(n,new n(r),i,i*2)),f=Rt(t,r,Ke),h=f.length-1,i=h;f[i]===0;--i)f.pop();return i<0?new n(e.s*0):(e.e=jt(f,h),e.d=f,j=!1,o&&(e=le(e,u,s*4)),c&&(e=e.times(Math.abs(c)<54?be(2,c):Ct.pow(2,c))),j=!0,e)}function Ni(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:At(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/kt(5,r)),t=At(e,2,t,t);for(var u,i=new e(5),o=new e(16),s=new e(20);r--;)u=t.times(t),t=t.times(i.plus(u.times(o.times(u).minus(s))));return t}function At(e,t,r,n,u){var i,o,s,c,f=e.precision,h=Math.ceil(f/G);for(j=!1,c=r.times(r),s=new e(n);;){if(o=le(s.times(c),new e(t++*t++),f,1),s=u?n.plus(o):n.minus(o),n=le(o.times(c),new e(t++*t++),f,1),o=s.plus(n),o.d[h]!==void 0){for(i=h;o.d[i]===s.d[i]&&i--;);if(i==-1)break}i=s,s=n,n=o,o=i}return j=!0,o.d.length=h+1,o}function kt(e,t){for(var r=e;--t;)r*=e;return r}function An(e,t){var r,n=t.s<0,u=je(e,e.precision,1),i=u.times(.5);if(t=t.abs(),t.lte(i))return nt=n?4:1,t;if(r=t.divToInt(u),r.isZero())nt=n?3:2;else{if(t=t.minus(r.times(u)),t.lte(i))return nt=xr(r)?n?2:3:n?4:1,t;nt=xr(r)?n?1:4:n?3:2}return t.minus(u).abs()}function vr(e,t,r,n){var u,i,o,s,c,f,h,a,D,m=e.constructor,E=r!==void 0;if(E?(Le(r,1,ft),n===void 0?n=m.rounding:Le(n,0,8)):(r=m.precision,n=m.rounding),!e.isFinite())h=En(e);else{for(h=ke(e),o=h.indexOf("."),E?(u=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):u=t,o>=0&&(h=h.replace(".",""),D=new m(1),D.e=h.length-o,D.d=Rt(ke(D),10,u),D.e=D.d.length),a=Rt(h,10,u),i=c=a.length;a[--c]==0;)a.pop();if(!a[0])h=E?"0p+0":"0";else{if(o<0?i--:(e=new m(e),e.d=a,e.e=i,e=le(e,D,r,n,0,u),a=e.d,i=e.e,f=Dn),o=a[r],s=u/2,f=f||a[r+1]!==void 0,f=n<4?(o!==void 0||f)&&(n===0||n===(e.s<0?3:2)):o>s||o===s&&(n===4||f||n===6&&a[r-1]&1||n===(e.s<0?8:7)),a.length=r,f)for(;++a[--r]>u-1;)a[r]=0,r||(++i,a.unshift(1));for(c=a.length;!a[c-1];--c);for(o=0,h="";o<c;o++)h+=sr.charAt(a[o]);if(E){if(c>1)if(t==16||t==8){for(o=t==16?4:3,--c;c%o;c++)h+="0";for(a=Rt(h,u,t),c=a.length;!a[c-1];--c);for(o=1,h="1.";o<c;o++)h+=sr.charAt(a[o])}else h=h.charAt(0)+"."+h.slice(1);h=h+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)h="0"+h;h="0."+h}else if(++i>c)for(i-=c;i--;)h+="0";else i<c&&(h=h.slice(0,i)+"."+h.slice(i))}h=(t==16?"0x":t==2?"0b":t==8?"0o":"")+h}return e.s<0?"-"+h:h}function Ir(e,t){if(e.length>t)return e.length=t,!0}function Mi(e){return new this(e).abs()}function Si(e){return new this(e).acos()}function Ti(e){return new this(e).acosh()}function xi(e,t){return new this(e).plus(t)}function Ii(e){return new this(e).asin()}function Oi(e){return new this(e).asinh()}function zi(e){return new this(e).atan()}function Pi(e){return new this(e).atanh()}function Ri(e,t){e=new this(e),t=new this(t);var r,n=this.precision,u=this.rounding,i=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=je(this,i,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?je(this,n,u):new this(0),r.s=e.s):!e.d||t.isZero()?(r=je(this,i,1).times(.5),r.s=e.s):t.s<0?(this.precision=i,this.rounding=1,r=this.atan(le(e,t,i,1)),t=je(this,i,1),this.precision=n,this.rounding=u,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(le(e,t,i,1)),r}function $i(e){return new this(e).cbrt()}function qi(e){return J(e=new this(e),e.e+1,2)}function Ui(e,t,r){return new this(e).clamp(t,r)}function Li(e){if(!e||typeof e!="object")throw Error(Qt+"Object expected");var t,r,n,u=e.defaults===!0,i=["precision",1,ft,"rounding",0,8,"toExpNeg",-Ft,0,"toExpPos",0,Ft,"maxE",0,Ft,"minE",-Ft,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(r=i[t],u&&(this[r]=ar[r]),(n=e[r])!==void 0)if(Oe(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(at+r+": "+n);if(r="crypto",u&&(this[r]=ar[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(dn);else this[r]=!1;else throw Error(at+r+": "+n);return this}function Zi(e){return new this(e).cos()}function Vi(e){return new this(e).cosh()}function Cn(e){var t,r,n;function u(i){var o,s,c,f=this;if(!(f instanceof u))return new u(i);if(f.constructor=u,Or(i)){f.s=i.s,j?!i.d||i.e>u.maxE?(f.e=NaN,f.d=null):i.e<u.minE?(f.e=0,f.d=[0]):(f.e=i.e,f.d=i.d.slice()):(f.e=i.e,f.d=i.d?i.d.slice():i.d);return}if(c=typeof i,c==="number"){if(i===0){f.s=1/i<0?-1:1,f.e=0,f.d=[0];return}if(i<0?(i=-i,f.s=-1):f.s=1,i===~~i&&i<1e7){for(o=0,s=i;s>=10;s/=10)o++;j?o>u.maxE?(f.e=NaN,f.d=null):o<u.minE?(f.e=0,f.d=[0]):(f.e=o,f.d=[i]):(f.e=o,f.d=[i]);return}if(i*0!==0){i||(f.s=NaN),f.e=NaN,f.d=null;return}return $t(f,i.toString())}if(c==="string")return(s=i.charCodeAt(0))===45?(i=i.slice(1),f.s=-1):(s===43&&(i=i.slice(1)),f.s=1),gn.test(i)?$t(f,i):bi(f,i);if(c==="bigint")return i<0?(i=-i,f.s=-1):f.s=1,$t(f,i.toString());throw Error(at+i)}if(u.prototype=x,u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=u.set=Li,u.clone=Cn,u.isDecimal=Or,u.abs=Mi,u.acos=Si,u.acosh=Ti,u.add=xi,u.asin=Ii,u.asinh=Oi,u.atan=zi,u.atanh=Pi,u.atan2=Ri,u.cbrt=$i,u.ceil=qi,u.clamp=Ui,u.cos=Zi,u.cosh=Vi,u.div=Wi,u.exp=Hi,u.floor=Ji,u.hypot=Yi,u.ln=Xi,u.log=Gi,u.log10=Qi,u.log2=Ki,u.max=ji,u.min=ki,u.mod=eo,u.mul=to,u.pow=ro,u.random=no,u.round=uo,u.sign=io,u.sin=oo,u.sinh=so,u.sqrt=ao,u.sub=fo,u.sum=co,u.tan=lo,u.tanh=ho,u.trunc=Do,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return u.config(e),u}function Wi(e,t){return new this(e).div(t)}function Hi(e){return new this(e).exp()}function Ji(e){return J(e=new this(e),e.e+1,3)}function Yi(){var e,t,r=new this(0);for(j=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return j=!0,new this(1/0);r=t}return j=!0,r.sqrt()}function Or(e){return e instanceof Ct||e&&e.toStringTag===vn||!1}function Xi(e){return new this(e).ln()}function Gi(e,t){return new this(e).log(t)}function Ki(e){return new this(e).log(2)}function Qi(e){return new this(e).log(10)}function ji(){return wn(this,arguments,-1)}function ki(){return wn(this,arguments,1)}function eo(e,t){return new this(e).mod(t)}function to(e,t){return new this(e).mul(t)}function ro(e,t){return new this(e).pow(t)}function no(e){var t,r,n,u,i=0,o=new this(1),s=[];if(e===void 0?e=this.precision:Le(e,1,ft),n=Math.ceil(e/G),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));i<n;)u=t[i],u>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:s[i++]=u%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);i<n;)u=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((t[i+3]&127)<<24),u>=214e7?crypto.randomBytes(4).copy(t,i):(s.push(u%1e7),i+=4);i=n/4}else throw Error(dn);else for(;i<n;)s[i++]=Math.random()*1e7|0;for(n=s[--i],e%=G,n&&e&&(u=be(10,G-e),s[i]=(n/u|0)*u);s[i]===0;i--)s.pop();if(i<0)r=0,s=[0];else{for(r=-1;s[0]===0;r-=G)s.shift();for(n=1,u=s[0];u>=10;u/=10)n++;n<G&&(r-=G-n)}return o.e=r,o.d=s,o}function uo(e){return J(e=new this(e),e.e+1,this.rounding)}function io(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function oo(e){return new this(e).sin()}function so(e){return new this(e).sinh()}function ao(e){return new this(e).sqrt()}function fo(e,t){return new this(e).sub(t)}function co(){var e=0,t=arguments,r=new this(t[e]);for(j=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return j=!0,J(r,this.precision,this.rounding)}function lo(e){return new this(e).tan()}function ho(e){return new this(e).tanh()}function Do(e){return J(e=new this(e),e.e+1,1)}x[Symbol.for("nodejs.util.inspect.custom")]=x.toString;x[Symbol.toStringTag]="Decimal";var Ct=x.constructor=Cn(ar);Wt=new Ct(Wt);Ht=new Ct(Ht);var po="BigNumber",vo=["?on","config"],go=re(po,vo,e=>{var{on:t,config:r}=e,n=Ct.clone({precision:r.precision,modulo:Ct.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(u){return new n(u.value)},t&&t("config",function(u,i){u.precision!==i.precision&&n.config({precision:u.precision})}),n},{isClass:!0});const Ie=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},He=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},mo=function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const r=e*e;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},nr=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},gt=function(){throw SyntaxError("Invalid Param")};function ur(e,t){const r=Math.abs(e),n=Math.abs(t);return e===0?Math.log(n):t===0?Math.log(r):r<3e3&&n<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const Fo={re:0,im:0},ct=function(e,t){const r=Fo;if(e==null)r.re=r.im=0;else if(t!==void 0)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return M.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return M.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else e.length===2?(r.re=e[0],r.im=e[1]):gt();break;case"string":r.im=r.re=0;const n=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let u=1,i=0;n===null&&gt();for(let o=0;o<n.length;o++){const s=n[o];s===" "||s==="	"||s===`
`||(s==="+"?u++:s==="-"?i++:s==="i"||s==="I"?(u+i===0&&gt(),n[o+1]!==" "&&!isNaN(n[o+1])?(r.im+=parseFloat((i%2?"-":"")+n[o+1]),o++):r.im+=parseFloat((i%2?"-":"")+"1"),u=i=0):((u+i===0||isNaN(s))&&gt(),n[o+1]==="i"||n[o+1]==="I"?(r.im+=parseFloat((i%2?"-":"")+s),o++):r.re+=parseFloat((i%2?"-":"")+s),u=i=0))}u+i>0&&gt();break;case"number":r.im=0,r.re=e;break;default:gt()}return isNaN(r.re)||isNaN(r.im),r};function M(e,t){if(!(this instanceof M))return new M(e,t);const r=ct(e,t);this.re=r.re,this.im=r.im}M.prototype={re:0,im:0,sign:function(){const e=nr(this.re,this.im);return new M(this.re/e,this.im/e)},add:function(e,t){const r=ct(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im));return n||u?n&&u?M.NAN:M.INFINITY:new M(this.re+r.re,this.im+r.im)},sub:function(e,t){const r=ct(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im));return n||u?n&&u?M.NAN:M.INFINITY:new M(this.re-r.re,this.im-r.im)},mul:function(e,t){const r=ct(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im)),i=this.re===0&&this.im===0,o=r.re===0&&r.im===0;return n&&o||u&&i?M.NAN:n||u?M.INFINITY:r.im===0&&this.im===0?new M(this.re*r.re,0):new M(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){const r=ct(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im)),i=this.re===0&&this.im===0,o=r.re===0&&r.im===0;if(i&&o||n&&u)return M.NAN;if(o||n)return M.INFINITY;if(i||u)return M.ZERO;if(r.im===0)return new M(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const s=r.re/r.im,c=r.re*s+r.im;return new M((this.re*s+this.im)/c,(this.im*s-this.re)/c)}else{const s=r.im/r.re,c=r.im*s+r.re;return new M((this.re+this.im*s)/c,(this.im-this.re*s)/c)}},pow:function(e,t){const r=ct(e,t),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return M.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new M(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new M(Math.pow(this.im,r.re),0);case 1:return new M(0,Math.pow(this.im,r.re));case 2:return new M(-Math.pow(this.im,r.re),0);case 3:return new M(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return M.ZERO;const i=Math.atan2(this.im,this.re),o=ur(this.re,this.im);let s=Math.exp(r.re*o-r.im*i),c=r.im*o+r.re*i;return new M(s*Math.cos(c),s*Math.sin(c))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new M(Math.sqrt(e),0):new M(0,Math.sqrt(-e));const r=nr(e,t);let n=Math.sqrt(.5*(r+Math.abs(e))),u=Math.abs(t)/(2*n);return e>=0?new M(n,t<0?-u:u):new M(u,t<0?-n:n)},exp:function(){const e=Math.exp(this.re);return this.im===0?new M(e,0):new M(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new M(Math.expm1(e)*Math.cos(t)+mo(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new M(Math.log(e),0):new M(ur(e,t),Math.atan2(t,e))},abs:function(){return nr(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new M(Math.sin(e)*Ie(t),Math.cos(e)*He(t))},cos:function(){const e=this.re,t=this.im;return new M(Math.cos(e)*Ie(t),-Math.sin(e)*He(t))},tan:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)+Ie(t);return new M(Math.sin(e)/r,He(t)/r)},cot:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)-Ie(t);return new M(-Math.sin(e)/r,He(t)/r)},sec:function(){const e=this.re,t=this.im,r=.5*Ie(2*t)+.5*Math.cos(2*e);return new M(Math.cos(e)*Ie(t)/r,Math.sin(e)*He(t)/r)},csc:function(){const e=this.re,t=this.im,r=.5*Ie(2*t)-.5*Math.cos(2*e);return new M(Math.sin(e)*Ie(t)/r,-Math.cos(e)*He(t)/r)},asin:function(){const e=this.re,t=this.im,r=new M(t*t-e*e+1,-2*e*t).sqrt(),n=new M(r.re-t,r.im+e).log();return new M(n.im,-n.re)},acos:function(){const e=this.re,t=this.im,r=new M(t*t-e*e+1,-2*e*t).sqrt(),n=new M(r.re-t,r.im+e).log();return new M(Math.PI/2-n.im,n.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new M(0,1/0);if(t===-1)return new M(0,-1/0)}const r=e*e+(1-t)*(1-t),n=new M((1-t*t-e*e)/r,-2*e/r).log();return new M(-.5*n.im,.5*n.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new M(Math.atan2(1,e),0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).atan():new M(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new M(0,1/0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).acos():new M(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new M(Math.PI/2,1/0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).asin():new M(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new M(He(e)*Math.cos(t),Ie(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new M(Ie(e)*Math.cos(t),He(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,r=Ie(e)+Math.cos(t);return new M(He(e)/r,Math.sin(t)/r)},coth:function(){const e=2*this.re,t=2*this.im,r=Ie(e)-Math.cos(t);return new M(He(e)/r,-Math.sin(t)/r)},csch:function(){const e=this.re,t=this.im,r=Math.cos(2*t)-Ie(2*e);return new M(-2*He(e)*Math.cos(t)/r,2*Ie(e)*Math.sin(t)/r)},sech:function(){const e=this.re,t=this.im,r=Math.cos(2*t)+Ie(2*e);return new M(2*Ie(e)*Math.cos(t)/r,-2*He(e)*Math.sin(t)/r)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,r=e>1&&t===0,n=1-e,u=1+e,i=n*n+t*t,o=i!==0?new M((u*n-t*t)/i,(t*n+u*t)/i):new M(e!==-1?e/0:0,t!==0?t/0:0),s=o.re;return o.re=ur(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,r&&(o.im=-o.im),o},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new M(0,Math.PI/2);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).atanh():new M(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0)return new M(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).asinh():new M(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return M.INFINITY;const r=e*e+t*t;return r!==0?new M(e/r,-t/r).acosh():new M(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return M.INFINITY;if(this.isInfinite())return M.ZERO;const e=this.re,t=this.im,r=e*e+t*t;return new M(e/r,-t/r)},conjugate:function(){return new M(this.re,-this.im)},neg:function(){return new M(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new M(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new M(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new M(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const r=ct(e,t);return Math.abs(r.re-this.re)<=M.EPSILON&&Math.abs(r.im-this.im)<=M.EPSILON},clone:function(){return new M(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<M.EPSILON&&(e=0),Math.abs(t)<M.EPSILON&&(t=0),t===0?r+e:(e!==0?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),t!==1&&(r+=t),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};M.ZERO=new M(0,0);M.ONE=new M(1,0);M.I=new M(0,1);M.PI=new M(Math.PI,0);M.E=new M(Math.E,0);M.INFINITY=new M(1/0,1/0);M.NAN=new M(NaN,NaN);M.EPSILON=1e-15;var wo="Complex",Eo=[],Ao=re(wo,Eo,()=>(Object.defineProperty(M,"name",{value:"Complex"}),M.prototype.constructor=M,M.prototype.type="Complex",M.prototype.isComplex=!0,M.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},M.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},M.prototype.format=function(e){var t="",r=this.im,n=this.re,u=or(this.re,e),i=or(this.im,e),o=ue(e)?e:e?e.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(n/r)<s&&(n=0),Math.abs(r/n)<s&&(r=0)}return r===0?t=u:n===0?r===1?t="i":r===-1?t="-i":t=i+"i":r<0?r===-1?t=u+" - i":t=u+" - "+i.substring(1)+"i":r===1?t=u+" + i":t=u+" + "+i+"i",t},M.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return M(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(ue(r)){if(an(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),ue(n))return new M({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},M.prototype.valueOf=M.prototype.toString,M.fromJSON=function(e){return new M(e)},M.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},M),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const H=BigInt(0),ee=BigInt(1),Mt=BigInt(2),lr=BigInt(5),qe=BigInt(10),Co=2e3,U={s:ee,n:H,d:ee};function rt(e,t){try{e=BigInt(e)}catch{throw ut()}return e*t}function Ge(e){return typeof e=="bigint"?e:Math.floor(e)}function pe(e,t){if(t===H)throw gr();const r=Object.create(Je.prototype);r.s=e<H?-ee:ee,e=e<H?-e:e;const n=lt(e,t);return r.n=e/n,r.d=t/n,r}function mt(e){const t={};let r=e,n=Mt,u=lr-ee;for(;u<=r;){for(;r%n===H;)r/=n,t[n]=(t[n]||H)+ee;u+=ee+Mt*n++}return r!==e?r>1&&(t[r]=(t[r]||H)+ee):t[e]=(t[e]||H)+ee,t}const Se=function(e,t){let r=H,n=ee,u=ee;if(e!=null)if(t!==void 0){if(typeof e=="bigint")r=e;else{if(isNaN(e))throw ut();if(e%1!==0)throw zr();r=BigInt(e)}if(typeof t=="bigint")n=t;else{if(isNaN(t))throw ut();if(t%1!==0)throw zr();n=BigInt(t)}u=r*n}else if(typeof e=="object"){if("d"in e&&"n"in e)r=BigInt(e.n),n=BigInt(e.d),"s"in e&&(r*=BigInt(e.s));else if(0 in e)r=BigInt(e[0]),1 in e&&(n=BigInt(e[1]));else if(typeof e=="bigint")r=e;else throw ut();u=r*n}else if(typeof e=="number"){if(isNaN(e))throw ut();if(e<0&&(u=-ee,e=-e),e%1===0)r=BigInt(e);else if(e>0){let i=1,o=0,s=1,c=1,f=1,h=1e7;for(e>=1&&(i=10**Math.floor(1+Math.log10(e)),e/=i);s<=h&&f<=h;){let a=(o+c)/(s+f);if(e===a){s+f<=h?(r=o+c,n=s+f):f>s?(r=c,n=f):(r=o,n=s);break}else e>a?(o+=c,s+=f):(c+=o,f+=s),s>h?(r=c,n=f):(r=o,n=s)}r=BigInt(r)*BigInt(i),n=BigInt(n)}}else if(typeof e=="string"){let i=0,o=H,s=H,c=H,f=ee,h=ee,a=e.replace(/_/g,"").match(/\d+|./g);if(a===null)throw ut();if(a[i]==="-"?(u=-ee,i++):a[i]==="+"&&i++,a.length===i+1?s=rt(a[i++],u):a[i+1]==="."||a[i]==="."?(a[i]!=="."&&(o=rt(a[i++],u)),i++,(i+1===a.length||a[i+1]==="("&&a[i+3]===")"||a[i+1]==="'"&&a[i+3]==="'")&&(s=rt(a[i],u),f=qe**BigInt(a[i].length),i++),(a[i]==="("&&a[i+2]===")"||a[i]==="'"&&a[i+2]==="'")&&(c=rt(a[i+1],u),h=qe**BigInt(a[i+1].length)-ee,i+=3)):a[i+1]==="/"||a[i+1]===":"?(s=rt(a[i],u),f=rt(a[i+2],ee),i+=3):a[i+3]==="/"&&a[i+1]===" "&&(o=rt(a[i],u),s=rt(a[i+2],u),f=rt(a[i+4],ee),i+=5),a.length<=i)n=f*h,u=r=c+n*o+h*s;else throw ut()}else if(typeof e=="bigint")r=e,u=e,n=ee;else throw ut();if(n===H)throw gr();U.s=u<H?-ee:ee,U.n=r<H?-r:r,U.d=n<H?-n:n};function yo(e,t,r){let n=ee;for(;t>H;e=e*e%r,t>>=ee)t&ee&&(n=n*e%r);return n}function Bo(e,t){for(;t%Mt===H;t/=Mt);for(;t%lr===H;t/=lr);if(t===ee)return H;let r=qe%t,n=1;for(;r!==ee;n++)if(r=r*qe%t,n>Co)return H;return BigInt(n)}function _o(e,t,r){let n=ee,u=yo(qe,r,t);for(let i=0;i<300;i++){if(n===u)return BigInt(i);n=n*qe%t,u=u*qe%t}return 0}function lt(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function Je(e,t){if(Se(e,t),this instanceof Je)e=lt(U.d,U.n),this.s=U.s,this.n=U.n/e,this.d=U.d/e;else return pe(U.s*U.n,U.d)}var gr=function(){return new Error("Division by Zero")},ut=function(){return new Error("Invalid argument")},zr=function(){return new Error("Parameters must be integer")};Je.prototype={s:ee,n:H,d:ee,abs:function(){return pe(this.n,this.d)},neg:function(){return pe(-this.s*this.n,this.d)},add:function(e,t){return Se(e,t),pe(this.s*this.n*U.d+U.s*this.d*U.n,this.d*U.d)},sub:function(e,t){return Se(e,t),pe(this.s*this.n*U.d-U.s*this.d*U.n,this.d*U.d)},mul:function(e,t){return Se(e,t),pe(this.s*U.s*this.n*U.n,this.d*U.d)},div:function(e,t){return Se(e,t),pe(this.s*U.s*this.n*U.d,this.d*U.n)},clone:function(){return pe(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return pe(this.s*this.n%this.d,ee);if(Se(e,t),H===U.n*this.d)throw gr();return pe(this.s*(U.d*this.n)%(U.n*this.d),U.d*this.d)},gcd:function(e,t){return Se(e,t),pe(lt(U.n,this.n)*lt(U.d,this.d),U.d*this.d)},lcm:function(e,t){return Se(e,t),U.n===H&&this.n===H?pe(H,ee):pe(U.n*this.n,lt(U.n,this.n)*lt(U.d,this.d))},inverse:function(){return pe(this.s*this.d,this.n)},pow:function(e,t){if(Se(e,t),U.d===ee)return U.s<H?pe((this.s*this.d)**U.n,this.n**U.n):pe((this.s*this.n)**U.n,this.d**U.n);if(this.s<H)return null;let r=mt(this.n),n=mt(this.d),u=ee,i=ee;for(let o in r)if(o!=="1"){if(o==="0"){u=H;break}if(r[o]*=U.n,r[o]%U.d===H)r[o]/=U.d;else return null;u*=BigInt(o)**r[o]}for(let o in n)if(o!=="1"){if(n[o]*=U.n,n[o]%U.d===H)n[o]/=U.d;else return null;i*=BigInt(o)**n[o]}return U.s<H?pe(i,u):pe(u,i)},log:function(e,t){if(Se(e,t),this.s<=H||U.s<=H)return null;const r={},n=mt(U.n),u=mt(U.d),i=mt(this.n),o=mt(this.d);for(const f in u)n[f]=(n[f]||H)-u[f];for(const f in o)i[f]=(i[f]||H)-o[f];for(const f in n)f!=="1"&&(r[f]=!0);for(const f in i)f!=="1"&&(r[f]=!0);let s=null,c=null;for(const f in r){const h=n[f]||H,a=i[f]||H;if(h===H){if(a!==H)return null;continue}let D=a,m=h;const E=lt(D,m);if(D/=E,m/=E,s===null&&c===null)s=D,c=m;else if(D*c!==s*m)return null}return s!==null&&c!==null?pe(s,c):null},equals:function(e,t){return Se(e,t),this.s*this.n*U.d===U.s*U.n*this.d},lt:function(e,t){return Se(e,t),this.s*this.n*U.d<U.s*U.n*this.d},lte:function(e,t){return Se(e,t),this.s*this.n*U.d<=U.s*U.n*this.d},gt:function(e,t){return Se(e,t),this.s*this.n*U.d>U.s*U.n*this.d},gte:function(e,t){return Se(e,t),this.s*this.n*U.d>=U.s*U.n*this.d},compare:function(e,t){Se(e,t);let r=this.s*this.n*U.d-U.s*U.n*this.d;return(H<r)-(r<H)},ceil:function(e){return e=qe**BigInt(e||0),pe(Ge(this.s*e*this.n/this.d)+(e*this.n%this.d>H&&this.s>=H?ee:H),e)},floor:function(e){return e=qe**BigInt(e||0),pe(Ge(this.s*e*this.n/this.d)-(e*this.n%this.d>H&&this.s<H?ee:H),e)},round:function(e){return e=qe**BigInt(e||0),pe(Ge(this.s*e*this.n/this.d)+this.s*((this.s>=H?ee:H)+Mt*(e*this.n%this.d)>this.d?ee:H),e)},roundTo:function(e,t){Se(e,t);const r=this.n*U.d,n=this.d*U.n,u=r%n;let i=Ge(r/n);return u+u>=n&&i++,pe(this.s*i*U.n,U.d)},divisible:function(e,t){return Se(e,t),!(!(U.n*this.d)||this.n*U.d%(U.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let t=this.n,r=this.d;e=e||15;let n=Bo(t,r),u=_o(t,r,n),i=this.s<H?"-":"";if(i+=Ge(t/r),t%=r,t*=qe,t&&(i+="."),n){for(let o=u;o--;)i+=Ge(t/r),t%=r,t*=qe;i+="(";for(let o=n;o--;)i+=Ge(t/r),t%=r,t*=qe;i+=")"}else for(let o=e;t&&o--;)i+=Ge(t/r),t%=r,t*=qe;return i},toFraction:function(e){let t=this.n,r=this.d,n=this.s<H?"-":"";if(r===ee)n+=t;else{let u=Ge(t/r);e&&u>H&&(n+=u,n+=" ",t%=r),n+=t,n+="/",n+=r}return n},toLatex:function(e){let t=this.n,r=this.d,n=this.s<H?"-":"";if(r===ee)n+=t;else{let u=Ge(t/r);e&&u>H&&(n+=u,t%=r),n+="\\frac{",n+=t,n+="}{",n+=r,n+="}"}return n},toContinued:function(){let e=this.n,t=this.d,r=[];do{r.push(Ge(e/t));let n=e%t;e=t,t=n}while(e!==ee);return r},simplify:function(e){const t=BigInt(1/(e||.001)|0),r=this.abs(),n=r.toContinued();for(let u=1;u<n.length;u++){let i=pe(n[u-1],ee);for(let s=u-2;s>=0;s--)i=i.inverse().add(n[s]);let o=i.sub(r);if(o.n*t<o.d)return i.mul(this.s)}return this}};var bo="Fraction",No=[],Mo=re(bo,No,()=>(Object.defineProperty(Je,"name",{value:"Fraction"}),Je.prototype.constructor=Je,Je.prototype.type="Fraction",Je.prototype.isFraction=!0,Je.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Je.fromJSON=function(e){return new Je(e)},Je),{isClass:!0}),So="Matrix",To=[],xo=re(So,To,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function ir(e,t,r){var n=e.constructor,u=new n(2),i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ne(r))throw new Error("size must be an integer");if(e.greaterThan(u.pow(r-1).sub(1))||e.lessThan(u.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(u.pow(r))),i="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function Io(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:u}=cn(t);switch(r){case"fixed":return zo(e,n);case"exponential":return Pr(e,n);case"engineering":return Oo(e,n);case"bin":return ir(e,2,u);case"oct":return ir(e,8,u);case"hex":return ir(e,16,u);case"auto":{var i=Rr(t?.lowerExp,-3),o=Rr(t?.upperExp,5);if(e.isZero())return"0";var s,c=e.toSignificantDigits(n),f=c.e;return f>=i&&f<o?s=c.toFixed():s=Pr(e,n),s.replace(/((\.\d*?)(0+))($|e)/,function(){var h=arguments[2],a=arguments[4];return h!=="."?h+a:a})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Oo(e,t){var r=e.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,u=e.mul(Math.pow(10,-n)),i=u.toPrecision(t);if(i.includes("e")){var o=e.constructor;i=new o(i).toFixed()}return i+"e"+(r>=0?"+":"")+n.toString()}function Pr(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function zo(e,t){return e.toFixed(t)}function Rr(e,t){return ue(e)?e:ye(e)?e.toNumber():t}function Ce(e,t){var r=Po(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function Po(e,t){if(typeof e=="number")return or(e,t);if(ye(e))return Io(e,t);if(Ro(e))return!t||t.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return yn(e,t);if(Qe(e))return $r(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(n=>$r(n)+": "+Ce(e[n],t));return"{"+r.join(", ")+"}"}return String(e)}function $r(e){for(var t=String(e),r="",n=0;n<t.length;){var u=t.charAt(n);r+=u in qr?qr[u]:u,n++}return'"'+r+'"'}var qr={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function yn(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,u=0;u<n;u++)u!==0&&(r+=", "),r+=yn(e[u],t);return r+="]",r}else return Ce(e,t)}function Ro(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function de(e,t,r){if(!(this instanceof de))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}de.prototype=new RangeError;de.prototype.constructor=RangeError;de.prototype.name="DimensionError";de.prototype.isDimensionError=!0;function yt(e,t,r){if(!(this instanceof yt))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}yt.prototype=new RangeError;yt.prototype.constructor=RangeError;yt.prototype.name="IndexError";yt.prototype.isIndexError=!0;function Ue(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Bn(e,t,r){var n,u=e.length;if(u!==t[r])throw new de(u,t[r]);if(r<t.length-1){var i=r+1;for(n=0;n<u;n++){var o=e[n];if(!Array.isArray(o))throw new de(t.length-1,t.length,"<");Bn(e[n],t,i)}}else for(n=0;n<u;n++)if(Array.isArray(e[n]))throw new de(t.length+1,t.length,">")}function Ur(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new de(e.length,0)}else Bn(e,t,0)}function ge(e,t){if(e!==void 0){if(!ue(e)||!Ne(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new yt(e,t)}}function hr(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(u){if(!ue(u)||!Ne(u)||u<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ce(t)+")")}),(ue(e)||ye(e))&&(e=[e]);var n=r!==void 0?r:0;return Dr(e,t,0,n),e}function Dr(e,t,r,n){var u,i,o=e.length,s=t[r],c=Math.min(o,s);if(e.length=s,r<t.length-1){var f=r+1;for(u=0;u<c;u++)i=e[u],Array.isArray(i)||(i=[i],e[u]=i),Dr(i,t,f,n);for(u=c;u<s;u++)i=[],e[u]=i,Dr(i,t,f,n)}else{for(u=0;u<c;u++)for(;Array.isArray(e[u]);)e[u]=e[u][0];for(u=c;u<s;u++)e[u]=n}}function _n(e,t){var r=qo(e,!0),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new de(0,n,"!=");t=mr(t,n);var u=bn(t);if(n!==u)throw new de(u,n,"!=");try{return $o(r,t)}catch(i){throw i instanceof de?new de(u,n,"!="):i}}function mr(e,t){var r=bn(e),n=e.slice(),u=-1,i=e.indexOf(u),o=e.indexOf(u,i+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var s=i>=0,c=t%r===0;if(s)if(c)n[i]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function bn(e){return e.reduce((t,r)=>t*r,1)}function $o(e,t){for(var r=e,n,u=t.length-1;u>0;u--){var i=t[u];n=[];for(var o=r.length/i,s=0;s<o;s++)n.push(r.slice(s*i,(s+1)*i));r=n}return r}function Nn(e,t,r,n){var u=n||Ue(e);if(r)for(var i=0;i<r;i++)e=[e],u.unshift(1);for(e=Mn(e,t,0);u.length<t;)u.push(1);return e}function Mn(e,t,r){var n,u;if(Array.isArray(e)){var i=r+1;for(n=0,u=e.length;n<u;n++)e[n]=Mn(e[n],t,i)}else for(var o=r;o<t;o++)e=[e];return e}function qo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(e))return e;if(typeof t!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var r=[];return t?u(e):n(e),r;function n(i){for(var o=0;o<i.length;o++){var s=i[o];Array.isArray(s)?n(s):r.push(s)}}function u(i){if(Array.isArray(i[0]))for(var o=0;o<i.length;o++)u(i[o]);else for(var s=0;s<i.length;s++)r.push(i[s])}}function Fr(e,t){for(var r,n=0,u=0;u<e.length;u++){var i=e[u],o=Array.isArray(i);if(u===0&&o&&(n=i.length),o&&i.length!==n)return;var s=o?Fr(i,t):t(i);if(r===void 0)r=s;else if(r!==s)return"mixed"}return r}function Sn(e,t,r,n){if(n<r){if(e.length!==t.length)throw new de(e.length,t.length);for(var u=[],i=0;i<e.length;i++)u[i]=Sn(e[i],t[i],r,n+1);return u}else return e.concat(t)}function Uo(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,n){return Sn(r,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Lo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map(D=>D.length),u=Math.max(...n),i=new Array(u).fill(null),o=0;o<t.length;o++)for(var s=t[o],c=n[o],f=0;f<c;f++){var h=u-c+f;s[f]>i[h]&&(i[h]=s[f])}for(var a=0;a<t.length;a++)Tn(t[a],i);return i}function Tn(e,t){for(var r=t.length,n=e.length,u=0;u<n;u++){var i=r-n+u;if(e[u]<t[i]&&e[u]>1||e[u]>t[i])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[u]," to size ").concat(t[i]))}}function Lr(e,t){var r=Ue(e);if(Et(r,t))return e;Tn(r,t);var n=Lo(r,t),u=n.length,i=[...Array(u-r.length).fill(1),...r],o=Vo(e);r.length<u&&(o=_n(o,i),r=Ue(o));for(var s=0;s<u;s++)r[s]<n[s]&&(o=Zo(o,n[s],s),r=Ue(o));return o}function Zo(e,t,r){return Uo(...Array(t).fill(e),r)}function xn(e,t){if(!Array.isArray(e))throw new Error("Array expected");var r=Ue(e);if(t.length!==r.length)throw new de(t.length,r.length);for(var n=0;n<t.length;n++)ge(t[n],r[n]);return t.reduce((u,i)=>u[i],e)}function Zr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.length===0)return[];if(r)return i(e);var n=[];return u(e,0);function u(o,s){if(Array.isArray(o)){for(var c=o.length,f=Array(c),h=0;h<c;h++)n[s]=h,f[h]=u(o[h],s+1);return f}else return t(o,n.slice(0,s),e)}function i(o){if(Array.isArray(o)){for(var s=o.length,c=Array(s),f=0;f<s;f++)c[f]=i(o[f]);return c}else return t(o)}}function Vo(e){return qt([],e)}function Yt(e,t,r,n){if(Zt.isTypedFunction(e)){var u;if(n)u=1;else{var i=t.isMatrix?t.size():Ue(t),o=i.length?i[i.length-1]===0:!0;if(o)return{isUnary:n,fn:e};var s=i.map(()=>0),c=t.isMatrix?t.get(s):xn(t,s);u=Jo(e,c,s,t)}var f;if(t.isMatrix&&t.dataType!=="mixed"&&t.dataType!==void 0){var h=Wo(e,u);f=h!==void 0?h:e}else f=e;return u>=1&&u<=3?{isUnary:u===1,fn:function(){for(var D=arguments.length,m=new Array(D),E=0;E<D;E++)m[E]=arguments[E];return Vr(f,m.slice(0,u),r,e.name)}}:{isUnary:!1,fn:function(){for(var D=arguments.length,m=new Array(D),E=0;E<D;E++)m[E]=arguments[E];return Vr(f,m,r,e.name)}}}return n===void 0?{isUnary:Ho(e),fn:e}:{isUnary:n,fn:e}}function Wo(e,t){var r=[];if(Object.entries(e.signatures).forEach(n=>{var[u,i]=n;u.split(",").length===t&&r.push(i)}),r.length===1)return r[0]}function Ho(e){if(e.length!==1)return!1;var t=e.toString();if(/arguments/.test(t))return!1;var r=t.match(/\(.*?\)/);return!/\.\.\./.test(r)}function Jo(e,t,r,n){for(var u=[t,r,n],i=3;i>0;i--){var o=u.slice(0,i);if(Zt.resolve(e,o)!==null)return i}}function Vr(e,t,r,n){try{return e(...t)}catch(u){Yo(u,t,r,n)}}function Yo(e,t,r,n){var u;if(e instanceof TypeError&&((u=e.data)===null||u===void 0?void 0:u.category)==="wrongType"){var i=[];throw i.push("value: ".concat(st(t[0]))),t.length>=2&&i.push("index: ".concat(st(t[1]))),t.length>=3&&i.push("array: ".concat(st(t[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(i.join(", "),") at index ").concat(JSON.stringify(t[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(e.message))}var Xo="DenseMatrix",Go=["Matrix","config"],Ko=re(Xo,Go,e=>{var{Matrix:t,config:r}=e;function n(a,D){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(D&&!Qe(D))throw new Error("Invalid datatype: "+D);if(Be(a))a.type==="DenseMatrix"?(this._data=Fe(a._data),this._size=Fe(a._size),this._datatype=D||a._datatype):(this._data=a.toArray(),this._size=a.size(),this._datatype=D||a._datatype);else if(a&&_e(a.data)&&_e(a.size))this._data=a.data,this._size=a.size,Ur(this._data,this._size),this._datatype=D||a.datatype;else if(_e(a))this._data=h(a),this._size=Ue(this._data),Ur(this._data,this._size),this._datatype=D;else{if(a)throw new TypeError("Unsupported type of data ("+st(a)+")");this._data=[],this._size=[0],this._datatype=D}}n.prototype=new t,n.prototype.createDenseMatrix=function(a,D){return new n(a,D)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Fr(this._data,st)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(a,D){return new n(a,D)},n.prototype.subset=function(a,D,m){switch(arguments.length){case 1:return u(this,a);case 2:case 3:return o(this,a,D,m);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(a){return xn(this._data,a)},n.prototype.set=function(a,D,m){if(!_e(a))throw new TypeError("Array expected");if(a.length<this._size.length)throw new de(a.length,this._size.length,"<");var E,l,g,w=a.map(function(F){return F+1});f(this,w,m);var C=this._data;for(E=0,l=a.length-1;E<l;E++)g=a[E],ge(g,C.length),C=C[g];return g=a[a.length-1],ge(g,C.length),C[g]=D,this};function u(a,D){if(!pr(D))throw new TypeError("Invalid index");var m=r.legacySubset?D.size().every(v=>v===1):D.isScalar();if(m)return a.get(D.min());var E=D.size();if(E.length!==a._size.length)throw new de(E.length,a._size.length);for(var l=D.min(),g=D.max(),w=0,C=a._size.length;w<C;w++)ge(l[w],a._size[w]),ge(g[w],a._size[w]);var F=new n,B=i(a._data,D);return F._size=B.size,F._datatype=a._datatype,F._data=B.data,r.legacySubset?F.reshape(D.size()):F}function i(a,D){var m=D.size().length-1,E=Array(m);return{data:l(a),size:E.filter(g=>g!==null)};function l(g){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=D.dimension(w);function F(B,v){return ue(B)?v(B):B.map(v).valueOf()}return ue(C)?E[w]=null:E[w]=C.size()[0],w<m?F(C,B=>(ge(B,g.length),l(g[B],w+1))):F(C,B=>(ge(B,g.length),g[B]))}}function o(a,D,m,E){if(!D||D.isIndex!==!0)throw new TypeError("Invalid index");var l=D.size(),g=D.isScalar(),w;if(Be(m)?(w=m.size(),m=m.valueOf()):w=Ue(m),g){if(w.length!==0)throw new TypeError("Scalar expected");a.set(D.min(),m,E)}else{if(!Et(w,l)){if(w.length===0)m=Lr([m],l);else try{m=Lr(m,l)}catch{}w=Ue(m)}if(l.length<a._size.length)throw new de(l.length,a._size.length,"<");if(w.length<l.length){for(var C=0,F=0;l[C]===1&&w[C]===1;)C++;for(;l[C]===1;)F++,C++;m=Nn(m,l.length,F,w)}if(!Et(l,w))throw new de(l,w,">");var B=D.max().map(function(v){return v+1});f(a,B,E),s(a._data,D,m)}return a}function s(a,D,m){var E=D.size().length-1;l(a,m);function l(g,w){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,F=D.dimension(C),B=(d,_)=>{ge(d,g.length),l(g[d],w[_[0]],C+1)},v=(d,_)=>{ge(d,g.length),g[d]=w[_[0]]};C<E?ue(F)?B(F,[0]):F.forEach(B):ue(F)?v(F,[0]):F.forEach(v)}}n.prototype.resize=function(a,D,m){if(!Lt(a))throw new TypeError("Array or Matrix expected");var E=a.valueOf().map(g=>Array.isArray(g)&&g.length===1?g[0]:g),l=m?this.clone():this;return c(l,E,D)};function c(a,D,m){if(D.length===0){for(var E=a._data;_e(E);)E=E[0];return E}return a._size=D.slice(0),a._data=hr(a._data,a._size,m),a}n.prototype.reshape=function(a,D){var m=D?this.clone():this;m._data=_n(m._data,a);var E=m._size.reduce((l,g)=>l*g);return m._size=mr(a,E),m};function f(a,D,m){for(var E=a._size.slice(0),l=!1;E.length<D.length;)E.push(0),l=!0;for(var g=0,w=D.length;g<w;g++)D[g]>E[g]&&(E[g]=D[g],l=!0);l&&c(a,E,m)}n.prototype.clone=function(){var a=new n({data:Fe(this._data),size:Fe(this._size),datatype:this._datatype});return a},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(a){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=this,E=m._size.length-1;if(E<0)return m.clone();var l=Yt(a,m,"map",D),g=l.fn,w=m.create(void 0,m._datatype);if(w._size=m._size,D||l.isUnary)return w._data=_(m._data),w;if(E===0){for(var C=m.valueOf(),F=Array(C.length),B=0;B<C.length;B++)F[B]=g(C[B],[B],m);return w._data=F,w}var v=[];return w._data=d(m._data),w;function d(y){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=Array(y.length);if(b<E)for(var O=0;O<y.length;O++)v[b]=O,I[O]=d(y[O],b+1);else for(var R=0;R<y.length;R++)v[b]=R,I[R]=g(y[R],v.slice(),m);return I}function _(y){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=Array(y.length);if(b<E)for(var O=0;O<y.length;O++)I[O]=_(y[O],b+1);else for(var R=0;R<y.length;R++)I[R]=g(y[R]);return I}},n.prototype.forEach=function(a){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=this,E=m._size.length-1;if(E<0)return;var l=Yt(a,m,"map",D),g=l.fn;if(D||l.isUnary){B(m._data);return}if(E===0){for(var w=0;w<m._data.length;w++)g(m._data[w],[w],m);return}var C=[];F(m._data);function F(v){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(d<E)for(var _=0;_<v.length;_++)C[d]=_,F(v[_],d+1);else for(var y=0;y<v.length;y++)C[d]=y,g(v[y],C.slice(),m)}function B(v){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(d<E)for(var _=0;_<v.length;_++)B(v[_],d+1);else for(var y=0;y<v.length;y++)g(v[y])}},n.prototype[Symbol.iterator]=function*(){var a=this._size.length-1;if(!(a<0)){if(a===0){for(var D=0;D<this._data.length;D++)yield{value:this._data[D],index:[D]};return}for(var m=Array(a+1).fill(0),E=this._size.reduce((F,B)=>F*B,1),l=0;l<E;l++){for(var g=this._data,w=0;w<a;w++)g=g[m[w]];yield{value:g[m[a]],index:m.slice()};for(var C=a;C>=0&&(m[C]++,!(m[C]<this._size[C]));C--)m[C]=0}}},n.prototype.rows=function(){var a=[],D=this.size();if(D.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var m=this._data;for(var E of m)a.push(new n([E],this._datatype));return a},n.prototype.columns=function(){var a=this,D=[],m=this.size();if(m.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var E=this._data,l=function(C){var F=E.map(B=>[B[C]]);D.push(new n(F,a._datatype))},g=0;g<m[1];g++)l(g);return D},n.prototype.toArray=function(){return Fe(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(a){return Ce(this._data,a)},n.prototype.toString=function(){return Ce(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(a){if(a){if(ye(a)&&(a=a.toNumber()),!ue(a)||!Ne(a))throw new TypeError("The parameter k must be an integer number")}else a=0;for(var D=a>0?a:0,m=a<0?-a:0,E=this._size[0],l=this._size[1],g=Math.min(E-m,l-D),w=[],C=0;C<g;C++)w[C]=this._data[C+m][C+D];return new n({data:w,size:[g],datatype:this._datatype})},n.diagonal=function(a,D,m,E){if(!_e(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(y){if(ye(y)&&(y=y.toNumber()),!ue(y)||!Ne(y)||y<1)throw new Error("Size values must be positive integers");return y}),m){if(ye(m)&&(m=m.toNumber()),!ue(m)||!Ne(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var l=m>0?m:0,g=m<0?-m:0,w=a[0],C=a[1],F=Math.min(w-g,C-l),B;if(_e(D)){if(D.length!==F)throw new Error("Invalid value array length");B=function(b){return D[b]}}else if(Be(D)){var v=D.size();if(v.length!==1||v[0]!==F)throw new Error("Invalid matrix length");B=function(b){return D.get([b])}}else B=function(){return D};E||(E=ye(B(0))?B(0).mul(0):0);var d=[];if(a.length>0){d=hr(d,a,E);for(var _=0;_<F;_++)d[_+g][_+l]=B(_)}return new n({data:d,size:[w,C]})},n.fromJSON=function(a){return new n(a)},n.prototype.swapRows=function(a,D){if(!ue(a)||!Ne(a)||!ue(D)||!Ne(D))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ge(a,this._size[0]),ge(D,this._size[0]),n._swapRows(a,D,this._data),this},n._swapRows=function(a,D,m){var E=m[a];m[a]=m[D],m[D]=E};function h(a){return Be(a)?h(a.valueOf()):_e(a)?a.map(h):a}return n},{isClass:!0});function ht(e,t,r){if(!r)return Be(e)?e.map(u=>t(u),!1,!0):Zr(e,t,!0);var n=u=>u===0?u:t(u);return Be(e)?e.map(u=>n(u),!1,!0):Zr(e,n,!0)}var In="number",wr="number, number";function On(e){return Math.abs(e)}On.signature=In;function zn(e,t){return e+t}zn.signature=wr;function Pn(e,t){return e-t}Pn.signature=wr;function Rn(e,t){return e*t}Rn.signature=wr;function $n(e){return-e}$n.signature=In;function Qo(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||t.isNaN()?!1:!e.isFinite()||!t.isFinite()?e.eq(t):e.eq(t)?!0:e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),n))}var Wr="isZero",jo=["typed","equalScalar"],ko=re(Wr,jo,e=>{var{typed:t,equalScalar:r}=e;return t(Wr,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:t.referToSelf(n=>u=>t.find(n,u.valueType())(u.value)),"Array | Matrix":t.referToSelf(n=>u=>ht(u,n))})});function es(e,t,r,n){return Vt(e.re,t.re,r,n)&&Vt(e.im,t.im,r,n)}var ts=re("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(!n.equalBase(u))throw new Error("Cannot compare units with different base");return t.find(r,[n.valueType(),u.valueType()])(n.value,u.value)})}}),Xt="equalScalar",rs=["typed","config"],ns=re(Xt,rs,e=>{var{typed:t,config:r}=e,n=ts({typed:t});return t(Xt,{"boolean, boolean":function(i,o){return i===o},"number, number":function(i,o){return Vt(i,o,r.relTol,r.absTol)},"BigNumber, BigNumber":function(i,o){return i.eq(o)||Qo(i,o,r.relTol,r.absTol)},"bigint, bigint":function(i,o){return i===o},"Fraction, Fraction":function(i,o){return i.equals(o)},"Complex, Complex":function(i,o){return es(i,o,r.relTol,r.absTol)}},n)});re(Xt,["typed","config"],e=>{var{typed:t,config:r}=e;return t(Xt,{"number, number":function(u,i){return Vt(u,i,r.relTol,r.absTol)}})});var us="SparseMatrix",is=["typed","equalScalar","Matrix"],os=re(us,is,e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function u(l,g){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!Qe(g))throw new Error("Invalid datatype: "+g);if(Be(l))i(this,l,g);else if(l&&_e(l.index)&&_e(l.ptr)&&_e(l.size))this._values=l.values,this._index=l.index,this._ptr=l.ptr,this._size=l.size,this._datatype=g||l.datatype;else if(_e(l))o(this,l,g);else{if(l)throw new TypeError("Unsupported type of data ("+st(l)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function i(l,g,w){g.type==="SparseMatrix"?(l._values=g._values?Fe(g._values):void 0,l._index=Fe(g._index),l._ptr=Fe(g._ptr),l._size=Fe(g._size),l._datatype=w||g._datatype):o(l,g.valueOf(),w||g._datatype)}function o(l,g,w){l._values=[],l._index=[],l._ptr=[],l._datatype=w;var C=g.length,F=0,B=r,v=0;if(Qe(w)&&(B=t.find(r,[w,w])||r,v=t.convert(0,w)),C>0){var d=0;do{l._ptr.push(l._index.length);for(var _=0;_<C;_++){var y=g[_];if(_e(y)){if(d===0&&F<y.length&&(F=y.length),d<y.length){var b=y[d];B(b,v)||(l._values.push(b),l._index.push(_))}}else d===0&&F<1&&(F=1),B(y,v)||(l._values.push(y),l._index.push(_))}d++}while(d<F)}for(;l._ptr.length<=F;)l._ptr.push(l._index.length);l._size=[C,F]}u.prototype=new n,u.prototype.createSparseMatrix=function(l,g){return new u(l,g)},Object.defineProperty(u,"name",{value:"SparseMatrix"}),u.prototype.constructor=u,u.prototype.type="SparseMatrix",u.prototype.isSparseMatrix=!0,u.prototype.getDataType=function(){return Fr(this._values,st)},u.prototype.storage=function(){return"sparse"},u.prototype.datatype=function(){return this._datatype},u.prototype.create=function(l,g){return new u(l,g)},u.prototype.density=function(){var l=this._size[0],g=this._size[1];return l!==0&&g!==0?this._index.length/(l*g):0},u.prototype.subset=function(l,g,w){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,l);case 2:case 3:return c(this,l,g,w);default:throw new SyntaxError("Wrong number of arguments")}};function s(l,g){if(!pr(g))throw new TypeError("Invalid index");var w=g.isScalar();if(w)return l.get(g.min());var C=g.size();if(C.length!==l._size.length)throw new de(C.length,l._size.length);var F,B,v,d,_=g.min(),y=g.max();for(F=0,B=l._size.length;F<B;F++)ge(_[F],l._size[F]),ge(y[F],l._size[F]);var b=l._values,I=l._index,O=l._ptr,R=g.dimension(0),W=g.dimension(1),Y=[],V=[];function q(te,ne){V[te]=ne[0],Y[te]=!0}Number.isInteger(R)?q(R,[0]):R.forEach(q);var Q=b?[]:void 0,X=[],K=[];function k(te){for(K.push(X.length),v=O[te],d=O[te+1];v<d;v++)F=I[v],Y[F]===!0&&(X.push(V[F]),Q&&Q.push(b[v]))}return Number.isInteger(W)?k(W):W.forEach(k),K.push(X.length),new u({values:Q,index:X,ptr:K,size:C,datatype:l._datatype})}function c(l,g,w,C){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var F=g.size(),B=g.isScalar(),v;if(Be(w)?(v=w.size(),w=w.toArray()):v=Ue(w),B){if(v.length!==0)throw new TypeError("Scalar expected");l.set(g.min(),w,C)}else{if(F.length!==1&&F.length!==2)throw new de(F.length,l._size.length,"<");if(v.length<F.length){for(var d=0,_=0;F[d]===1&&v[d]===1;)d++;for(;F[d]===1;)_++,d++;w=Nn(w,F.length,_,v)}if(!Et(F,v))throw new de(F,v,">");if(F.length===1){var y=g.dimension(0);O(y,(R,W)=>{ge(R),l.set([R,0],w[W[0]],C)})}else{var b=g.dimension(0),I=g.dimension(1);O(b,(R,W)=>{ge(R),O(I,(Y,V)=>{ge(Y),l.set([R,Y],w[W[0]][V[0]],C)})})}}return l;function O(R,W){ue(R)?W(R,[0]):R.forEach(W)}}u.prototype.get=function(l){if(!_e(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new de(l.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=l[0],w=l[1];ge(g,this._size[0]),ge(w,this._size[1]);var C=f(g,this._ptr[w],this._ptr[w+1],this._index);return C<this._ptr[w+1]&&this._index[C]===g?this._values[C]:0},u.prototype.set=function(l,g,w){if(!_e(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new de(l.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var C=l[0],F=l[1],B=this._size[0],v=this._size[1],d=r,_=0;Qe(this._datatype)&&(d=t.find(r,[this._datatype,this._datatype])||r,_=t.convert(0,this._datatype)),(C>B-1||F>v-1)&&(D(this,Math.max(C+1,B),Math.max(F+1,v),w),B=this._size[0],v=this._size[1]),ge(C,B),ge(F,v);var y=f(C,this._ptr[F],this._ptr[F+1],this._index);return y<this._ptr[F+1]&&this._index[y]===C?d(g,_)?h(y,F,this._values,this._index,this._ptr):this._values[y]=g:d(g,_)||a(y,C,F,g,this._values,this._index,this._ptr),this};function f(l,g,w,C){if(w-g===0)return w;for(var F=g;F<w;F++)if(C[F]===l)return F;return g}function h(l,g,w,C,F){w.splice(l,1),C.splice(l,1);for(var B=g+1;B<F.length;B++)F[B]--}function a(l,g,w,C,F,B,v){F.splice(l,0,C),B.splice(l,0,g);for(var d=w+1;d<v.length;d++)v[d]++}u.prototype.resize=function(l,g,w){if(!Lt(l))throw new TypeError("Array or Matrix expected");var C=l.valueOf().map(B=>Array.isArray(B)&&B.length===1?B[0]:B);if(C.length!==2)throw new Error("Only two dimensions matrix are supported");C.forEach(function(B){if(!ue(B)||!Ne(B)||B<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ce(C)+")")});var F=w?this.clone():this;return D(F,C[0],C[1],g)};function D(l,g,w,C){var F=C||0,B=r,v=0;Qe(l._datatype)&&(B=t.find(r,[l._datatype,l._datatype])||r,v=t.convert(0,l._datatype),F=t.convert(F,l._datatype));var d=!B(F,v),_=l._size[0],y=l._size[1],b,I,O;if(w>y){for(I=y;I<w;I++)if(l._ptr[I]=l._values.length,d)for(b=0;b<_;b++)l._values.push(F),l._index.push(b);l._ptr[w]=l._values.length}else w<y&&(l._ptr.splice(w+1,y-w),l._values.splice(l._ptr[w],l._values.length),l._index.splice(l._ptr[w],l._index.length));if(y=w,g>_){if(d){var R=0;for(I=0;I<y;I++){l._ptr[I]=l._ptr[I]+R,O=l._ptr[I+1]+R;var W=0;for(b=_;b<g;b++,W++)l._values.splice(O+W,0,F),l._index.splice(O+W,0,b),R++}l._ptr[y]=l._values.length}}else if(g<_){var Y=0;for(I=0;I<y;I++){l._ptr[I]=l._ptr[I]-Y;var V=l._ptr[I],q=l._ptr[I+1]-Y;for(O=V;O<q;O++)b=l._index[O],b>g-1&&(l._values.splice(O,1),l._index.splice(O,1),Y++)}l._ptr[I]=l._values.length}return l._size[0]=g,l._size[1]=w,l}u.prototype.reshape=function(l,g){if(!_e(l))throw new TypeError("Array expected");if(l.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");l.forEach(function(K){if(!ue(K)||!Ne(K)||K<=-2||K===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ce(l)+")")});var w=this._size[0]*this._size[1];l=mr(l,w);var C=l[0]*l[1];if(w!==C)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var F=g?this.clone():this;if(this._size[0]===l[0]&&this._size[1]===l[1])return F;for(var B=[],v=0;v<F._ptr.length;v++)for(var d=0;d<F._ptr[v+1]-F._ptr[v];d++)B.push(v);for(var _=F._values.slice(),y=F._index.slice(),b=0;b<F._index.length;b++){var I=y[b],O=B[b],R=I*F._size[1]+O;B[b]=R%l[1],y[b]=Math.floor(R/l[1])}F._values.length=0,F._index.length=0,F._ptr.length=l[1]+1,F._size=l.slice();for(var W=0;W<F._ptr.length;W++)F._ptr[W]=0;for(var Y=0;Y<_.length;Y++){var V=y[Y],q=B[Y],Q=_[Y],X=f(V,F._ptr[q],F._ptr[q+1],F._index);a(X,V,q,Q,F._values,F._index,F._ptr)}return F},u.prototype.clone=function(){var l=new u({values:this._values?Fe(this._values):void 0,index:Fe(this._index),ptr:Fe(this._ptr),size:Fe(this._size),datatype:this._datatype});return l},u.prototype.size=function(){return this._size.slice(0)},u.prototype.map=function(l,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var w=this,C=this._size[0],F=this._size[1],B=Yt(l,w,"map"),v=function(_,y,b){return B.fn(_,[y,b],w)};return m(this,0,C-1,0,F-1,v,g)};function m(l,g,w,C,F,B,v){var d=[],_=[],y=[],b=r,I=0;Qe(l._datatype)&&(b=t.find(r,[l._datatype,l._datatype])||r,I=t.convert(0,l._datatype));for(var O=function(ae,Ee,me){var ve=B(ae,Ee,me);b(ve,I)||(d.push(ve),_.push(Ee))},R=C;R<=F;R++){y.push(d.length);var W=l._ptr[R],Y=l._ptr[R+1];if(v)for(var V=W;V<Y;V++){var q=l._index[V];q>=g&&q<=w&&O(l._values[V],q-g,R-C)}else{for(var Q={},X=W;X<Y;X++){var K=l._index[X];Q[K]=l._values[X]}for(var k=g;k<=w;k++){var te=k in Q?Q[k]:0;O(te,k-g,R-C)}}}return y.push(d.length),new u({values:d,index:_,ptr:y,size:[w-g+1,F-C+1]})}u.prototype.forEach=function(l,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var w=this,C=this._size[0],F=this._size[1],B=Yt(l,w,"forEach"),v=0;v<F;v++){var d=this._ptr[v],_=this._ptr[v+1];if(g)for(var y=d;y<_;y++){var b=this._index[y];B.fn(this._values[y],[b,v],w)}else{for(var I={},O=d;O<_;O++){var R=this._index[O];I[R]=this._values[O]}for(var W=0;W<C;W++){var Y=W in I?I[W]:0;B.fn(Y,[W,v],w)}}}},u.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var l=this._size[1],g=0;g<l;g++)for(var w=this._ptr[g],C=this._ptr[g+1],F=w;F<C;F++){var B=this._index[F];yield{value:this._values[F],index:[B,g]}}},u.prototype.toArray=function(){return E(this._values,this._index,this._ptr,this._size,!0)},u.prototype.valueOf=function(){return E(this._values,this._index,this._ptr,this._size,!1)};function E(l,g,w,C,F){var B=C[0],v=C[1],d=[],_,y;for(_=0;_<B;_++)for(d[_]=[],y=0;y<v;y++)d[_][y]=0;for(y=0;y<v;y++)for(var b=w[y],I=w[y+1],O=b;O<I;O++)_=g[O],d[_][y]=l?F?Fe(l[O]):l[O]:1;return d}return u.prototype.format=function(l){for(var g=this._size[0],w=this._size[1],C=this.density(),F="Sparse Matrix ["+Ce(g,l)+" x "+Ce(w,l)+"] density: "+Ce(C,l)+`
`,B=0;B<w;B++)for(var v=this._ptr[B],d=this._ptr[B+1],_=v;_<d;_++){var y=this._index[_];F+=`
    (`+Ce(y,l)+", "+Ce(B,l)+") ==> "+(this._values?Ce(this._values[_],l):"X")}return F},u.prototype.toString=function(){return Ce(this.toArray())},u.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},u.prototype.diagonal=function(l){if(l){if(ye(l)&&(l=l.toNumber()),!ue(l)||!Ne(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var g=l>0?l:0,w=l<0?-l:0,C=this._size[0],F=this._size[1],B=Math.min(C-w,F-g),v=[],d=[],_=[];_[0]=0;for(var y=g;y<F&&v.length<B;y++)for(var b=this._ptr[y],I=this._ptr[y+1],O=b;O<I;O++){var R=this._index[O];if(R===y-g+w){v.push(this._values[O]),d[v.length-1]=R-w;break}}return _.push(v.length),new u({values:v,index:d,ptr:_,size:[B,1]})},u.fromJSON=function(l){return new u(l)},u.diagonal=function(l,g,w,C,F){if(!_e(l))throw new TypeError("Array expected, size parameter");if(l.length!==2)throw new Error("Only two dimensions matrix are supported");if(l=l.map(function(K){if(ye(K)&&(K=K.toNumber()),!ue(K)||!Ne(K)||K<1)throw new Error("Size values must be positive integers");return K}),w){if(ye(w)&&(w=w.toNumber()),!ue(w)||!Ne(w))throw new TypeError("The parameter k must be an integer number")}else w=0;var B=r,v=0;Qe(F)&&(B=t.find(r,[F,F])||r,v=t.convert(0,F));var d=w>0?w:0,_=w<0?-w:0,y=l[0],b=l[1],I=Math.min(y-_,b-d),O;if(_e(g)){if(g.length!==I)throw new Error("Invalid value array length");O=function(k){return g[k]}}else if(Be(g)){var R=g.size();if(R.length!==1||R[0]!==I)throw new Error("Invalid matrix length");O=function(k){return g.get([k])}}else O=function(){return g};for(var W=[],Y=[],V=[],q=0;q<b;q++){V.push(W.length);var Q=q-d;if(Q>=0&&Q<I){var X=O(Q);B(X,v)||(Y.push(Q+_),W.push(X))}}return V.push(W.length),new u({values:W,index:Y,ptr:V,size:[y,b]})},u.prototype.swapRows=function(l,g){if(!ue(l)||!Ne(l)||!ue(g)||!Ne(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ge(l,this._size[0]),ge(g,this._size[0]),u._swapRows(l,g,this._size[1],this._values,this._index,this._ptr),this},u._forEachRow=function(l,g,w,C,F){for(var B=C[l],v=C[l+1],d=B;d<v;d++)F(w[d],g[d])},u._swapRows=function(l,g,w,C,F,B){for(var v=0;v<w;v++){var d=B[v],_=B[v+1],y=f(l,d,_,F),b=f(g,d,_,F);if(y<_&&b<_&&F[y]===l&&F[b]===g){if(C){var I=C[y];C[y]=C[b],C[b]=I}continue}if(y<_&&F[y]===l&&(b>=_||F[b]!==g)){var O=C?C[y]:void 0;F.splice(b,0,g),C&&C.splice(b,0,O),F.splice(b<=y?y+1:y,1),C&&C.splice(b<=y?y+1:y,1);continue}if(b<_&&F[b]===g&&(y>=_||F[y]!==l)){var R=C?C[b]:void 0;F.splice(y,0,l),C&&C.splice(y,0,R),F.splice(y<=b?b+1:b,1),C&&C.splice(y<=b?b+1:b,1)}}},u},{isClass:!0}),ss="number",as=["typed"];function fs(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],n=t[2],u=t[3];return{input:e,radix:r,integerPart:n,fractionalPart:u}}else return null}function cs(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++){var u=parseInt(e.fractionalPart[n],e.radix);r+=u/Math.pow(e.radix,n+1)}var i=t+r;if(isNaN(i))throw new SyntaxError('String "'+e.input+'" is not a valid number');return i}var ls=re(ss,as,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(u){return u},string:function(u){if(u==="NaN")return NaN;var i=fs(u);if(i)return cs(i);var o=0,s=u.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(o=Number(s[2]),u=s[1]);var c=Number(u);if(isNaN(c))throw new SyntaxError('String "'+u+'" is not a valid number');if(s){if(c>2**o-1)throw new SyntaxError('String "'.concat(u,'" is out of range'));c>=2**(o-1)&&(c=c-2**o)}return c},BigNumber:function(u){return u.toNumber()},bigint:function(u){return Number(u)},Fraction:function(u){return u.valueOf()},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),null:function(u){return 0},"Unit, string | Unit":function(u,i){return u.toNumber(i)},"Array | Matrix":t.referToSelf(n=>u=>ht(u,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),hs="bignumber",Ds=["typed","BigNumber"],ps=re(hs,Ds,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(u){return new r(u+"")},string:function(u){var i=u.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var o=i[2],s=r(i[1]),c=new r(2).pow(Number(o));if(s.gt(c.sub(1)))throw new SyntaxError('String "'.concat(u,'" is out of range'));var f=new r(2).pow(Number(o)-1);return s.gte(f)?s.sub(c):s}return new r(u)},BigNumber:function(u){return u},bigint:function(u){return new r(u.toString())},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),Fraction:function(u){return new r(String(u.n)).div(String(u.d)).times(String(u.s))},null:function(u){return new r(0)},"Array | Matrix":t.referToSelf(n=>u=>ht(u,n))})}),ds="fraction",vs=["typed","Fraction"],gs=re(ds,vs,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(u){if(!Number.isFinite(u)||isNaN(u))throw new Error(u+" cannot be represented as a fraction");return new r(u)},string:function(u){return new r(u)},"number, number":function(u,i){return new r(u,i)},"bigint, bigint":function(u,i){return new r(u,i)},null:function(u){return new r(0)},BigNumber:function(u){return new r(u.toString())},bigint:function(u){return new r(u.toString())},Fraction:function(u){return u},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),Object:function(u){return new r(u)},"Array | Matrix":t.referToSelf(n=>u=>ht(u,n))})}),Hr="matrix",ms=["typed","Matrix","DenseMatrix","SparseMatrix"],Fs=re(Hr,ms,e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:u}=e;return t(Hr,{"":function(){return i([])},string:function(s){return i([],s)},"string, string":function(s,c){return i([],s,c)},Array:function(s){return i(s)},Matrix:function(s){return i(s,s.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(o,s,c){if(s==="dense"||s==="default"||s===void 0)return new n(o,c);if(s==="sparse")return new u(o,c);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),Jr="unaryMinus",ws=["typed"],Es=re(Jr,ws,e=>{var{typed:t}=e;return t(Jr,{number:$n,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:t.referToSelf(r=>n=>{var u=n.clone();return u.value=t.find(r,u.valueType())(n.value),u}),"Array | Matrix":t.referToSelf(r=>n=>ht(n,r,!0))})}),Yr="abs",As=["typed"],Cs=re(Yr,As,e=>{var{typed:t}=e;return t(Yr,{number:On,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":t.referToSelf(r=>n=>ht(n,r,!0))})}),Xr="addScalar",ys=["typed"],Bs=re(Xr,ys,e=>{var{typed:t}=e;return t(Xr,{"number, number":zn,"Complex, Complex":function(n,u){return n.add(u)},"BigNumber, BigNumber":function(n,u){return n.plus(u)},"bigint, bigint":function(n,u){return n+u},"Fraction, Fraction":function(n,u){return n.add(u)},"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(r,[i.valueType(),u.valueType()])(i.value,u.value),i.fixPrefix=!1,i})})}),Gr="subtractScalar",_s=["typed"],bs=re(Gr,_s,e=>{var{typed:t}=e;return t(Gr,{"number, number":Pn,"Complex, Complex":function(n,u){return n.sub(u)},"BigNumber, BigNumber":function(n,u){return n.minus(u)},"bigint, bigint":function(n,u){return n-u},"Fraction, Fraction":function(n,u){return n.sub(u)},"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(r,[i.valueType(),u.valueType()])(i.value,u.value),i.fixPrefix=!1,i})})}),Ns="matAlgo11xS0s",Ms=["typed","equalScalar"],qn=re(Ns,Ms,e=>{var{typed:t,equalScalar:r}=e;return function(u,i,o,s){var c=u._values,f=u._index,h=u._ptr,a=u._size,D=u._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=a[0],E=a[1],l,g=r,w=0,C=o;typeof D=="string"&&(l=D,g=t.find(r,[l,l]),w=t.convert(0,l),i=t.convert(i,l),C=t.find(o,[l,l]));for(var F=[],B=[],v=[],d=0;d<E;d++){v[d]=B.length;for(var _=h[d],y=h[d+1],b=_;b<y;b++){var I=f[b],O=s?C(i,c[b]):C(c[b],i);g(O,w)||(B.push(I),F.push(O))}}return v[E]=B.length,u.createSparseMatrix({values:F,index:B,ptr:v,size:[m,E],datatype:l})}}),Ss="matAlgo14xDs",Ts=["typed"],Un=re(Ss,Ts,e=>{var{typed:t}=e;return function(u,i,o,s){var c=u._data,f=u._size,h=u._datatype,a,D=o;typeof h=="string"&&(a=h,i=t.convert(i,a),D=t.find(o,[a,a]));var m=f.length>0?r(D,0,f,f[0],c,i,s):[];return u.createDenseMatrix({data:m,size:Fe(f),datatype:a})};function r(n,u,i,o,s,c,f){var h=[];if(u===i.length-1)for(var a=0;a<o;a++)h[a]=f?n(c,s[a]):n(s[a],c);else for(var D=0;D<o;D++)h[D]=r(n,u+1,i,i[u+1],s[D],c,f);return h}}),xs="multiplyScalar",Is=["typed"],Os=re(xs,Is,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":Rn,"Complex, Complex":function(n,u){return n.mul(u)},"BigNumber, BigNumber":function(n,u){return n.times(u)},"bigint, bigint":function(n,u){return n*u},"Fraction, Fraction":function(n,u){return n.mul(u)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),Kr="multiply",zs=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Ps=re(Kr,zs,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:u,equalScalar:i,dot:o}=e,s=qn({typed:t,equalScalar:i}),c=Un({typed:t});function f(v,d){switch(v.length){case 1:switch(d.length){case 1:if(v[0]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(v[0]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+v[0]+") must match Matrix rows ("+d[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+d.length+" dimensions)")}break;case 2:switch(d.length){case 1:if(v[1]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+v[1]+") must match Vector length ("+d[0]+")");break;case 2:if(v[1]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+v[1]+") must match Matrix B rows ("+d[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+d.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+v.length+" dimensions)")}}function h(v,d,_){if(_===0)throw new Error("Cannot multiply two empty vectors");return o(v,d)}function a(v,d){if(d.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return D(v,d)}function D(v,d){var _=v._data,y=v._size,b=v._datatype||v.getDataType(),I=d._data,O=d._size,R=d._datatype||d.getDataType(),W=y[0],Y=O[1],V,q=n,Q=u;b&&R&&b===R&&typeof b=="string"&&b!=="mixed"&&(V=b,q=t.find(n,[V,V]),Q=t.find(u,[V,V]));for(var X=[],K=0;K<Y;K++){for(var k=Q(_[0],I[0][K]),te=1;te<W;te++)k=q(k,Q(_[te],I[te][K]));X[K]=k}return v.createDenseMatrix({data:X,size:[Y],datatype:b===v._datatype&&R===d._datatype?V:void 0})}var m=t("_multiplyMatrixVector",{"DenseMatrix, any":l,"SparseMatrix, any":C}),E=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":w,"SparseMatrix, DenseMatrix":F,"SparseMatrix, SparseMatrix":B});function l(v,d){var _=v._data,y=v._size,b=v._datatype||v.getDataType(),I=d._data,O=d._datatype||d.getDataType(),R=y[0],W=y[1],Y,V=n,q=u;b&&O&&b===O&&typeof b=="string"&&b!=="mixed"&&(Y=b,V=t.find(n,[Y,Y]),q=t.find(u,[Y,Y]));for(var Q=[],X=0;X<R;X++){for(var K=_[X],k=q(K[0],I[0]),te=1;te<W;te++)k=V(k,q(K[te],I[te]));Q[X]=k}return v.createDenseMatrix({data:Q,size:[R],datatype:b===v._datatype&&O===d._datatype?Y:void 0})}function g(v,d){var _=v._data,y=v._size,b=v._datatype||v.getDataType(),I=d._data,O=d._size,R=d._datatype||d.getDataType(),W=y[0],Y=y[1],V=O[1],q,Q=n,X=u;b&&R&&b===R&&typeof b=="string"&&b!=="mixed"&&b!=="mixed"&&(q=b,Q=t.find(n,[q,q]),X=t.find(u,[q,q]));for(var K=[],k=0;k<W;k++){var te=_[k];K[k]=[];for(var ne=0;ne<V;ne++){for(var ae=X(te[0],I[0][ne]),Ee=1;Ee<Y;Ee++)ae=Q(ae,X(te[Ee],I[Ee][ne]));K[k][ne]=ae}}return v.createDenseMatrix({data:K,size:[W,V],datatype:b===v._datatype&&R===d._datatype?q:void 0})}function w(v,d){var _=v._data,y=v._size,b=v._datatype||v.getDataType(),I=d._values,O=d._index,R=d._ptr,W=d._size,Y=d._datatype||d._data===void 0?d._datatype:d.getDataType();if(!I)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var V=y[0],q=W[1],Q,X=n,K=u,k=i,te=0;b&&Y&&b===Y&&typeof b=="string"&&b!=="mixed"&&(Q=b,X=t.find(n,[Q,Q]),K=t.find(u,[Q,Q]),k=t.find(i,[Q,Q]),te=t.convert(0,Q));for(var ne=[],ae=[],Ee=[],me=d.createSparseMatrix({values:ne,index:ae,ptr:Ee,size:[V,q],datatype:b===v._datatype&&Y===d._datatype?Q:void 0}),ve=0;ve<q;ve++){Ee[ve]=ae.length;var De=R[ve],ze=R[ve+1];if(ze>De)for(var fe=0,oe=0;oe<V;oe++){for(var Ze=oe+1,Te=void 0,ce=De;ce<ze;ce++){var Me=O[ce];fe!==Ze?(Te=K(_[oe][Me],I[ce]),fe=Ze):Te=X(Te,K(_[oe][Me],I[ce]))}fe===Ze&&!k(Te,te)&&(ae.push(oe),ne.push(Te))}}return Ee[q]=ae.length,me}function C(v,d){var _=v._values,y=v._index,b=v._ptr,I=v._datatype||v._data===void 0?v._datatype:v.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var O=d._data,R=d._datatype||d.getDataType(),W=v._size[0],Y=d._size[0],V=[],q=[],Q=[],X,K=n,k=u,te=i,ne=0;I&&R&&I===R&&typeof I=="string"&&I!=="mixed"&&(X=I,K=t.find(n,[X,X]),k=t.find(u,[X,X]),te=t.find(i,[X,X]),ne=t.convert(0,X));var ae=[],Ee=[];Q[0]=0;for(var me=0;me<Y;me++){var ve=O[me];if(!te(ve,ne))for(var De=b[me],ze=b[me+1],fe=De;fe<ze;fe++){var oe=y[fe];Ee[oe]?ae[oe]=K(ae[oe],k(ve,_[fe])):(Ee[oe]=!0,q.push(oe),ae[oe]=k(ve,_[fe]))}}for(var Ze=q.length,Te=0;Te<Ze;Te++){var ce=q[Te];V[Te]=ae[ce]}return Q[1]=q.length,v.createSparseMatrix({values:V,index:q,ptr:Q,size:[W,1],datatype:I===v._datatype&&R===d._datatype?X:void 0})}function F(v,d){var _=v._values,y=v._index,b=v._ptr,I=v._datatype||v._data===void 0?v._datatype:v.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var O=d._data,R=d._datatype||d.getDataType(),W=v._size[0],Y=d._size[0],V=d._size[1],q,Q=n,X=u,K=i,k=0;I&&R&&I===R&&typeof I=="string"&&I!=="mixed"&&(q=I,Q=t.find(n,[q,q]),X=t.find(u,[q,q]),K=t.find(i,[q,q]),k=t.convert(0,q));for(var te=[],ne=[],ae=[],Ee=v.createSparseMatrix({values:te,index:ne,ptr:ae,size:[W,V],datatype:I===v._datatype&&R===d._datatype?q:void 0}),me=[],ve=[],De=0;De<V;De++){ae[De]=ne.length;for(var ze=De+1,fe=0;fe<Y;fe++){var oe=O[fe][De];if(!K(oe,k))for(var Ze=b[fe],Te=b[fe+1],ce=Ze;ce<Te;ce++){var Me=y[ce];ve[Me]!==ze?(ve[Me]=ze,ne.push(Me),me[Me]=X(oe,_[ce])):me[Me]=Q(me[Me],X(oe,_[ce]))}}for(var Ve=ae[De],et=ne.length,tt=Ve;tt<et;tt++){var Dt=ne[tt];te[tt]=me[Dt]}}return ae[V]=ne.length,Ee}function B(v,d){var _=v._values,y=v._index,b=v._ptr,I=v._datatype||v._data===void 0?v._datatype:v.getDataType(),O=d._values,R=d._index,W=d._ptr,Y=d._datatype||d._data===void 0?d._datatype:d.getDataType(),V=v._size[0],q=d._size[1],Q=_&&O,X,K=n,k=u;I&&Y&&I===Y&&typeof I=="string"&&I!=="mixed"&&(X=I,K=t.find(n,[X,X]),k=t.find(u,[X,X]));for(var te=Q?[]:void 0,ne=[],ae=[],Ee=v.createSparseMatrix({values:te,index:ne,ptr:ae,size:[V,q],datatype:I===v._datatype&&Y===d._datatype?X:void 0}),me=Q?[]:void 0,ve=[],De,ze,fe,oe,Ze,Te,ce,Me,Ve=0;Ve<q;Ve++){ae[Ve]=ne.length;var et=Ve+1;for(Ze=W[Ve],Te=W[Ve+1],oe=Ze;oe<Te;oe++)if(Me=R[oe],Q)for(ze=b[Me],fe=b[Me+1],De=ze;De<fe;De++)ce=y[De],ve[ce]!==et?(ve[ce]=et,ne.push(ce),me[ce]=k(O[oe],_[De])):me[ce]=K(me[ce],k(O[oe],_[De]));else for(ze=b[Me],fe=b[Me+1],De=ze;De<fe;De++)ce=y[De],ve[ce]!==et&&(ve[ce]=et,ne.push(ce));if(Q)for(var tt=ae[Ve],Dt=ne.length,pt=tt;pt<Dt;pt++){var tr=ne[pt];te[pt]=me[tr]}}return ae[q]=ne.length,Ee}return t(Kr,u,{"Array, Array":t.referTo("Matrix, Matrix",v=>(d,_)=>{f(Ue(d),Ue(_));var y=v(r(d),r(_));return Be(y)?y.valueOf():y}),"Matrix, Matrix":function(d,_){var y=d.size(),b=_.size();return f(y,b),y.length===1?b.length===1?h(d,_,y[0]):a(d,_):b.length===1?m(d,_):E(d,_)},"Matrix, Array":t.referTo("Matrix,Matrix",v=>(d,_)=>v(d,r(_))),"Array, Matrix":t.referToSelf(v=>(d,_)=>v(r(d,_.storage()),_)),"SparseMatrix, any":function(d,_){return s(d,_,u,!1)},"DenseMatrix, any":function(d,_){return c(d,_,u,!1)},"any, SparseMatrix":function(d,_){return s(_,d,u,!0)},"any, DenseMatrix":function(d,_){return c(_,d,u,!0)},"Array, any":function(d,_){return c(r(d),_,u,!1).valueOf()},"any, Array":function(d,_){return c(r(_),d,u,!0).valueOf()},"any, any":u,"any, any, ...any":t.referToSelf(v=>(d,_,y)=>{for(var b=v(d,_),I=0;I<y.length;I++)b=v(b,y[I]);return b})})}),Qr="conj",Rs=["typed"],$s=re(Qr,Rs,e=>{var{typed:t}=e;return t(Qr,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),Unit:t.referToSelf(r=>n=>new n.constructor(r(n.toNumeric()),n.formatUnits())),"Array | Matrix":t.referToSelf(r=>n=>ht(n,r))})}),jr="identity",qs=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Us=re(jr,qs,e=>{var{typed:t,config:r,matrix:n,BigNumber:u,DenseMatrix:i,SparseMatrix:o}=e;return t(jr,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(h){return n(h)},"number | BigNumber":function(h){return c(h,h,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(h,a){return c(h,h,a)},"number | BigNumber, number | BigNumber":function(h,a){return c(h,a,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(h,a,D){return c(h,a,D)},Array:function(h){return s(h)},"Array, string":function(h,a){return s(h,a)},Matrix:function(h){return s(h.valueOf(),h.storage())},"Matrix, string":function(h,a){return s(h.valueOf(),a)}});function s(f,h){switch(f.length){case 0:return h?n(h):[];case 1:return c(f[0],f[0],h);case 2:return c(f[0],f[1],h);default:throw new Error("Vector containing two values expected")}}function c(f,h,a){var D=ye(f)||ye(h)?u:null;if(ye(f)&&(f=f.toNumber()),ye(h)&&(h=h.toNumber()),!Ne(f)||f<1)throw new Error("Parameters in function identity must be positive integers");if(!Ne(h)||h<1)throw new Error("Parameters in function identity must be positive integers");var m=D?new u(1):1,E=D?new D(0):0,l=[f,h];if(a){if(a==="sparse")return o.diagonal(l,m,0,E);if(a==="dense")return i.diagonal(l,m,0,E);throw new TypeError('Unknown matrix type "'.concat(a,'"'))}for(var g=hr([],l,E),w=f<h?f:h,C=0;C<w;C++)g[C][C]=m;return g}});function Ls(){throw new Error('No "bignumber" implementation available')}function Zs(){throw new Error('No "fraction" implementation available')}var kr="size",Vs=["typed"],Ws=re(kr,Vs,e=>{var{typed:t}=e;return t(kr,{Matrix:r=>r.size(),Array:Ue,string:r=>[r.length],"number | Complex | BigNumber | Unit | boolean | null":r=>[]})}),Hs="numeric",Js=["number","?bignumber","?fraction"],Ys=re(Hs,Js,e=>{var{number:t,bignumber:r,fraction:n}=e,u={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:o=>t(o),BigNumber:r?o=>r(o):Ls,bigint:o=>BigInt(o),Fraction:n?o=>n(o):Zs};return function(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",f=arguments.length>2?arguments[2]:void 0;if(f!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var h=st(s);if(!(h in u))throw new TypeError("Cannot convert "+s+' of type "'+h+'"; valid input types are '+Object.keys(u).join(", "));if(!(c in i))throw new TypeError("Cannot convert "+s+' to type "'+c+'"; valid output types are '+Object.keys(i).join(", "));return c===h?s:i[c](s)}}),en="divideScalar",Xs=["typed","numeric"],Gs=re(en,Xs,e=>{var{typed:t,numeric:r}=e;return t(en,{"number, number":function(u,i){return u/i},"Complex, Complex":function(u,i){return u.div(i)},"BigNumber, BigNumber":function(u,i){return u.div(i)},"bigint, bigint":function(u,i){return u/i},"Fraction, Fraction":function(u,i){return u.div(i)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,u)=>n.divide(u),"number | Fraction | Complex | BigNumber, Unit":(n,u)=>u.divideInto(n)})}),tn="dot",Ks=["typed","addScalar","multiplyScalar","conj","size"],Qs=re(tn,Ks,e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:u,size:i}=e;return t(tn,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":c});function o(f,h){var a=i(f),D=i(h),m,E;if(a.length===1)m=a[0];else if(a.length===2&&a[1]===1)m=a[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+a.join(", ")+")");if(D.length===1)E=D[0];else if(D.length===2&&D[1]===1)E=D[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+D.join(", ")+")");if(m!==E)throw new RangeError("Vectors must have equal length ("+m+" != "+E+")");if(m===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return m}function s(f,h){var a=o(f,h),D=Be(f)?f._data:f,m=Be(f)?f._datatype||f.getDataType():void 0,E=Be(h)?h._data:h,l=Be(h)?h._datatype||h.getDataType():void 0,g=i(f).length===2,w=i(h).length===2,C=r,F=n;if(m&&l&&m===l&&typeof m=="string"&&m!=="mixed"){var B=m;C=t.find(r,[B,B]),F=t.find(n,[B,B])}if(!g&&!w){for(var v=F(u(D[0]),E[0]),d=1;d<a;d++)v=C(v,F(u(D[d]),E[d]));return v}if(!g&&w){for(var _=F(u(D[0]),E[0][0]),y=1;y<a;y++)_=C(_,F(u(D[y]),E[y][0]));return _}if(g&&!w){for(var b=F(u(D[0][0]),E[0]),I=1;I<a;I++)b=C(b,F(u(D[I][0]),E[I]));return b}if(g&&w){for(var O=F(u(D[0][0]),E[0][0]),R=1;R<a;R++)O=C(O,F(u(D[R][0]),E[R][0]));return O}}function c(f,h){o(f,h);for(var a=f._index,D=f._values,m=h._index,E=h._values,l=0,g=r,w=n,C=0,F=0;C<a.length&&F<m.length;){var B=a[C],v=m[F];if(B<v){C++;continue}if(B>v){F++;continue}B===v&&(l=g(l,w(D[C],E[F])),C++,F++)}return l}}),rn="det",js=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],ks=re(rn,js,e=>{var{typed:t,matrix:r,subtractScalar:n,multiply:u,divideScalar:i,isZero:o,unaryMinus:s}=e;return t(rn,{any:function(h){return Fe(h)},"Array | Matrix":function(h){var a;switch(Be(h)?a=h.size():Array.isArray(h)?(h=r(h),a=h.size()):a=[],a.length){case 0:return Fe(h);case 1:if(a[0]===1)return Fe(h.valueOf()[0]);if(a[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Ce(a)+")");case 2:{var D=a[0],m=a[1];if(D===m)return c(h.clone().valueOf(),D);if(m===0)return 1;throw new RangeError("Matrix must be square (size: "+Ce(a)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ce(a)+")")}}});function c(f,h,a){if(h===1)return Fe(f[0][0]);if(h===2)return n(u(f[0][0],f[1][1]),u(f[1][0],f[0][1]));for(var D=!1,m=new Array(h).fill(0).map((_,y)=>y),E=0;E<h;E++){var l=m[E];if(o(f[l][E])){var g=void 0;for(g=E+1;g<h;g++)if(!o(f[m[g]][E])){l=m[g],m[g]=m[E],m[E]=l,D=!D;break}if(g===h)return f[l][E]}for(var w=f[l][E],C=E===0?1:f[m[E-1]][E-1],F=E+1;F<h;F++)for(var B=m[F],v=E+1;v<h;v++)f[B][v]=i(n(u(f[B][v],w),u(f[B][E],f[l][v])),C)}var d=f[m[h-1]][h-1];return D?s(d):d}}),nn="inv",ea=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],ta=re(nn,ea,e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:u,multiply:i,unaryMinus:o,det:s,identity:c,abs:f}=e;return t(nn,{"Array | Matrix":function(D){var m=Be(D)?D.size():Ue(D);switch(m.length){case 1:if(m[0]===1)return Be(D)?r([n(1,D.valueOf()[0])]):[n(1,D[0])];throw new RangeError("Matrix must be square (size: "+Ce(m)+")");case 2:{var E=m[0],l=m[1];if(E===l)return Be(D)?r(h(D.valueOf(),E,l),D.storage()):h(D,E,l);throw new RangeError("Matrix must be square (size: "+Ce(m)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ce(m)+")")}},any:function(D){return n(1,D)}});function h(a,D,m){var E,l,g,w,C;if(D===1){if(w=a[0][0],w===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,w)]]}else if(D===2){var F=s(a);if(F===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(a[1][1],F),n(o(a[0][1]),F)],[n(o(a[1][0]),F),n(a[0][0],F)]]}else{var B=a.concat();for(E=0;E<D;E++)B[E]=B[E].concat();for(var v=c(D).valueOf(),d=0;d<m;d++){var _=f(B[d][d]),y=d;for(E=d+1;E<D;)f(B[E][d])>_&&(_=f(B[E][d]),y=E),E++;if(_===0)throw Error("Cannot calculate inverse, determinant is zero");E=y,E!==d&&(C=B[d],B[d]=B[E],B[E]=C,C=v[d],v[d]=v[E],v[E]=C);var b=B[d],I=v[d];for(E=0;E<D;E++){var O=B[E],R=v[E];if(E!==d){if(O[d]!==0){for(g=n(o(O[d]),b[d]),l=d;l<m;l++)O[l]=u(O[l],i(g,b[l]));for(l=0;l<m;l++)R[l]=u(R[l],i(g,I[l]))}}else{for(g=b[d],l=d;l<m;l++)O[l]=n(O[l],g);for(l=0;l<m;l++)R[l]=n(R[l],g)}}}return v}}}),ra="divide",na=["typed","matrix","multiply","equalScalar","divideScalar","inv"],ua=re(ra,na,e=>{var{typed:t,matrix:r,multiply:n,equalScalar:u,divideScalar:i,inv:o}=e,s=qn({typed:t,equalScalar:u}),c=Un({typed:t});return t("divide",si({"Array | Matrix, Array | Matrix":function(h,a){return n(h,o(a))},"DenseMatrix, any":function(h,a){return c(h,a,i,!1)},"SparseMatrix, any":function(h,a){return s(h,a,i,!1)},"Array, any":function(h,a){return c(r(h),a,i,!1).valueOf()},"any, Array | Matrix":function(h,a){return n(h,o(a))}},i.signatures))}),Er=go({config:St}),ia=Ao({}),Ln=Mo({}),Ar=xo({}),Cr=Ko({Matrix:Ar,config:St}),we=Fi({BigNumber:Er,Complex:ia,DenseMatrix:Cr,Fraction:Ln}),oa=Cs({typed:we}),yr=Bs({typed:we}),sa=$s({typed:we}),er=ns({config:St,typed:we}),Zn=Os({typed:we}),aa=ls({typed:we}),fa=Ws({typed:we}),Vn=os({Matrix:Ar,equalScalar:er,typed:we}),ca=bs({typed:we}),la=ps({BigNumber:Er,typed:we}),ha=Qs({addScalar:yr,conj:sa,multiplyScalar:Zn,size:fa,typed:we}),Da=ko({equalScalar:er,typed:we}),Tt=Fs({DenseMatrix:Cr,Matrix:Ar,SparseMatrix:Vn,typed:we}),Br=Ps({addScalar:yr,dot:ha,equalScalar:er,matrix:Tt,multiplyScalar:Zn,typed:we}),pa=gs({Fraction:Ln,typed:we}),da=Us({BigNumber:Er,DenseMatrix:Cr,SparseMatrix:Vn,config:St,matrix:Tt,typed:we}),va=Ys({bignumber:la,fraction:pa,number:aa}),Wn=Es({typed:we}),_r=Gs({numeric:va,typed:we}),ga=ks({divideScalar:_r,isZero:Da,matrix:Tt,multiply:Br,subtractScalar:ca,typed:we,unaryMinus:Wn}),ma=ta({abs:oa,addScalar:yr,det:ga,divideScalar:_r,identity:da,matrix:Tt,multiply:Br,typed:we,unaryMinus:Wn}),Fa=ua({divideScalar:_r,equalScalar:er,inv:ma,matrix:Tt,multiply:Br,typed:we});export{Er as BigNumber,ia as Complex,Cr as DenseMatrix,de as DimensionError,Ln as Fraction,yt as IndexError,Ar as Matrix,Vn as SparseMatrix,oa as abs,yr as addScalar,la as bignumber,St as config,sa as conj,Cs as createAbs,Bs as createAddScalar,go as createBigNumberClass,ps as createBignumber,Ao as createComplexClass,$s as createConj,Ko as createDenseMatrixClass,ks as createDet,ua as createDivide,Gs as createDivideScalar,Qs as createDot,ns as createEqualScalar,gs as createFraction,Mo as createFractionClass,Us as createIdentity,ta as createInv,ko as createIsZero,Fs as createMatrix,xo as createMatrixClass,Ps as createMultiply,Os as createMultiplyScalar,ls as createNumber,Ys as createNumeric,Ws as createSize,os as createSparseMatrixClass,bs as createSubtractScalar,Fi as createTyped,Es as createUnaryMinus,ga as det,Fa as divide,_r as divideScalar,ha as dot,er as equalScalar,re as factory,pa as fraction,da as identity,ma as inv,Vu as isAccessorNode,_e as isArray,Wu as isArrayNode,Hu as isAssignmentNode,Su as isBigInt,ye as isBigNumber,Ju as isBlockNode,Ou as isBoolean,ii as isChain,Lt as isCollection,on as isComplex,Yu as isConditionalNode,Xu as isConstantNode,$u as isDate,Tu as isDenseMatrix,sn as isFraction,Ru as isFunction,Gu as isFunctionAssignmentNode,Ku as isFunctionNode,Pu as isHelp,pr as isIndex,Qu as isIndexNode,Uu as isMap,Be as isMatrix,ju as isNode,Lu as isNull,ue as isNumber,dr as isObject,ku as isObjectNode,ei as isOperatorNode,ti as isParenthesisNode,Iu as isRange,ri as isRangeNode,qu as isRegExp,ni as isRelationalNode,zu as isResultSet,xu as isSparseMatrix,Qe as isString,ui as isSymbolNode,Zu as isUndefined,an as isUnit,Da as isZero,Tt as matrix,Br as multiply,Zn as multiplyScalar,aa as number,va as numeric,fa as size,ca as subtractScalar,we as typed,Wn as unaryMinus};
